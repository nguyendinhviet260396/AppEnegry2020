{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\vietn\\\\Desktop\\\\AppEnegry2020\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(filterAlarmSaga),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(loginSaga),_marked3=/*#__PURE__*/_regeneratorRuntime.mark(signupSaga),_marked4=/*#__PURE__*/_regeneratorRuntime.mark(updateUserSaga),_marked5=/*#__PURE__*/_regeneratorRuntime.mark(watchFetchListUserAction),_marked6=/*#__PURE__*/_regeneratorRuntime.mark(deleteUserSaga),_marked7=/*#__PURE__*/_regeneratorRuntime.mark(refeshHouseArea),_marked8=/*#__PURE__*/_regeneratorRuntime.mark(refeshPowerHouseArea),_marked9=/*#__PURE__*/_regeneratorRuntime.mark(refeshfishLakeArea),_marked10=/*#__PURE__*/_regeneratorRuntime.mark(refeshPowerfishLakeArea),_marked11=/*#__PURE__*/_regeneratorRuntime.mark(refeshSolar01Area),_marked12=/*#__PURE__*/_regeneratorRuntime.mark(refeshPowerSolar01Area),_marked13=/*#__PURE__*/_regeneratorRuntime.mark(refeshSolar02Area),_marked14=/*#__PURE__*/_regeneratorRuntime.mark(refeshPowerSolar02Area),_marked15=/*#__PURE__*/_regeneratorRuntime.mark(rootSaga);import{fork,take,call,put,delay,takeLatest,select}from'redux-saga/effects';//select to listTask from store\nimport*as alarmTypes from'./../constants/alarm';import*as authTypes from'./../constants/auths';import*as deviceTypes from'./../constants/devices';import//getListAlarm\n'./../apis/alarm';import{getListUser,addUser,loginUser,deteleUser,updateUser}from'./../apis/auth';import{getListData//updateData,\n//addData,\n}from'./../apis/devices';import{STATUS_CODE}from'./../constants/index';import{showLoading,hideLoading}from'./../actions/ui';import{hideModal}from'./../actions/modal';import{fetchListAlarm//fetchListAlarmSuccess,\n//fetchListAlarmFailed,\n}from'./../actions/alarm';import{authSignupSuccess,authSignupFaild,authLoginSuccess,authLoginFaild,checkAuthFaild,checkAuthSuccess,fetchListUserFailed,fetchListUserSuccess,setUserDeleteSucces,setUserDeleteFaild,updateUserSuccess,updateUserFailed}from'./../actions/auths';import{refeshSolar01Failed,refeshSolar01Success,refeshPowerSolar01Failed,refeshPowerSolar01Success,refeshSolar02Success,refeshSolar02Failed,refeshPowerSolar02Failed,refeshPowerSolar02Success//refeshMainSuccess,\n//refeshMainFailed,\n,refeshFishLakeAreaSuccess,refeshFishLakeAreaFailed,refeshPowerFishLakeAreaSuccess,refeshPowerFishLakeAreaFailed,refeshHouseAreaSuccess,refeshHouseAreaFailed,refeshPowerHouseAreaSuccess,refeshPowerHouseAreaFailed//refeshAllAreaSuccess,\n//refeshAllAreaFailed,\n}from'../actions/devices';/**\r\n * B1: dispatch action fetchTask\r\n * B2:Call animationPlayState: \r\n * B3:Kiểm tra status_code\r\n * Nếu thành công thì thực thi ...\r\n * Nếu thất bại thì thực thi gì đó....button-big\r\n * B4:Tắt Loadding\r\n * B5:thực thi công việc tiếp theo...\r\n */ // function* watchFetchListAlarmAction(){\n//     while (true){\n//         const action = yield take(alarmTypes.FETCH_ALARM);// khi FETCH_TASK duoc dispatch thi code tu day tro xuong moi chay\n//         yield put(showLoading());\n//         const {params}=action.payload;\n//         console.log(params)\n//         const resp = yield call(getListAlarm,'api/v1/main/getalarm','alarm');\n//         const {status,data}= resp;\n//         if(status === STATUS_CODE.SUCCESS){\n//             yield put(fetchListAlarmSuccess(data));  \n//         }else{\n//             yield put(fetchListAlarmFailed(data));\n//         }\n//         yield delay(100);\n//         yield put(hideLoading());\n//     } \n// }\nfunction filterAlarmSaga(_ref){var payload,keyword;return _regeneratorRuntime.wrap(function filterAlarmSaga$(_context){while(1){switch(_context.prev=_context.next){case 0:payload=_ref.payload;_context.next=3;return delay(500);case 3:keyword=payload.keyword;console.log(keyword.type);_context.next=7;return put(fetchListAlarm({//filter:keyword.charAt(0).toUpperCase() + keyword.slice(1),// mockAPI\nq:keyword.devicename//json-server\n}));case 7:case\"end\":return _context.stop();}}},_marked);}function loginSaga(_ref2){var payload,email,password,resp,data,status;return _regeneratorRuntime.wrap(function loginSaga$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:payload=_ref2.payload;email=payload.email,password=payload.password;_context2.next=4;return put(showLoading());case 4:_context2.next=6;return call(loginUser,'api/v1/users/login',{email:email,password:password});case 6:resp=_context2.sent;data=resp.data,status=resp.status;if(!(status===STATUS_CODE.SUCCESS)){_context2.next=16;break;}console.log(data);_context2.next=12;return put(authLoginSuccess(data));case 12:_context2.next=14;return put(checkAuthSuccess());case 14:_context2.next=20;break;case 16:_context2.next=18;return put(checkAuthFaild());case 18:_context2.next=20;return put(authLoginFaild(data));case 20:_context2.next=22;return delay(200);case 22:_context2.next=24;return put(hideLoading());case 24:case\"end\":return _context2.stop();}}},_marked2);}function signupSaga(_ref3){var payload,name,email,password,operator,resp,data,status,_resp,_status,_data;return _regeneratorRuntime.wrap(function signupSaga$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:payload=_ref3.payload;name=payload.name,email=payload.email,password=payload.password,operator=payload.operator;_context3.next=4;return put(showLoading());case 4:_context3.next=6;return call(addUser,'api/v1/users/add',{name:name,email:email,password:password,operator:operator});case 6:resp=_context3.sent;data=resp.data,status=resp.status;if(!(status===STATUS_CODE.CREATED)){_context3.next=22;break;}_context3.next=11;return call(getListUser,'api/v1/users/','');case 11:_resp=_context3.sent;_status=_resp.status,_data=_resp.data;_context3.next=15;return delay(100);case 15:if(!(_status===STATUS_CODE.SUCCESS)){_context3.next=20;break;}_context3.next=18;return put(authSignupSuccess(_data));case 18:_context3.next=20;return put(hideModal());case 20:_context3.next=24;break;case 22:_context3.next=24;return put(authSignupFaild(data));case 24:_context3.next=26;return delay(100);case 26:_context3.next=28;return put(hideLoading());case 28:case\"end\":return _context3.stop();}}},_marked3);}function updateUserSaga(_ref4){var payload,name,email,password,operator,userEditting,id,resp,data,status,_resp2,_status2,_data2;return _regeneratorRuntime.wrap(function updateUserSaga$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:payload=_ref4.payload;name=payload.name,email=payload.email,password=payload.password,operator=payload.operator;_context4.next=4;return select(function(state){return state.auth.userEditting;});case 4:userEditting=_context4.sent;id=userEditting.id;_context4.next=8;return put(showLoading());case 8:_context4.next=10;return call(updateUser,'api/v1/users/update',{id:id,name:name,email:email,password:password,operator:operator});case 10:resp=_context4.sent;data=resp.data,status=resp.status;if(!(status===STATUS_CODE.UPDATED)){_context4.next=26;break;}_context4.next=15;return call(getListUser,'api/v1/users','');case 15:_resp2=_context4.sent;_status2=_resp2.status,_data2=_resp2.data;_context4.next=19;return delay(100);case 19:if(!(_status2===STATUS_CODE.SUCCESS)){_context4.next=24;break;}_context4.next=22;return put(updateUserSuccess(_data2));case 22:_context4.next=24;return put(hideModal());case 24:_context4.next=28;break;case 26:_context4.next=28;return put(updateUserFailed(data));case 28:_context4.next=30;return delay(100);case 30:_context4.next=32;return put(hideLoading());case 32:case\"end\":return _context4.stop();}}},_marked4);}function watchFetchListUserAction(){var action,params,resp,status,data;return _regeneratorRuntime.wrap(function watchFetchListUserAction$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(!true){_context5.next=24;break;}_context5.next=3;return take(authTypes.FETCH_USER);case 3:action=_context5.sent;_context5.next=6;return put(showLoading());case 6:params=action.payload.params;_context5.next=9;return call(getListUser,'api/v1/users/',params);case 9:resp=_context5.sent;status=resp.status,data=resp.data;if(!(status===STATUS_CODE.SUCCESS)){_context5.next=16;break;}_context5.next=14;return put(fetchListUserSuccess(data));case 14:_context5.next=18;break;case 16:_context5.next=18;return put(fetchListUserFailed(data));case 18:_context5.next=20;return delay(50);case 20:_context5.next=22;return put(hideLoading());case 22:_context5.next=0;break;case 24:case\"end\":return _context5.stop();}}},_marked5);}function deleteUserSaga(_ref5){var payload,id,reps,data,status,resp,_status3,_data3;return _regeneratorRuntime.wrap(function deleteUserSaga$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:payload=_ref5.payload;id=payload.id;_context6.next=4;return put(showLoading());case 4:_context6.next=6;return call(deteleUser,'api/v1/users',id);case 6:reps=_context6.sent;data=reps.data,status=reps.status;if(!(status===STATUS_CODE.NO_CONTENT)){_context6.next=22;break;}_context6.next=11;return call(getListUser,'api/v1/users','');case 11:resp=_context6.sent;_status3=resp.status,_data3=resp.data;_context6.next=15;return delay(100);case 15:if(!(_status3===STATUS_CODE.SUCCESS)){_context6.next=20;break;}_context6.next=18;return put(setUserDeleteSucces(_data3));case 18:_context6.next=20;return put(hideModal());case 20:_context6.next=24;break;case 22:_context6.next=24;return put(setUserDeleteFaild(data));case 24:_context6.next=26;return delay(100);case 26:_context6.next=28;return put(hideLoading());case 28:case\"end\":return _context6.stop();}}},_marked6);}// refesh data leak\nfunction refeshHouseArea(){var resp,status,data;return _regeneratorRuntime.wrap(function refeshHouseArea$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return call(getListData,'api/v1/spm93/getlast','');case 2:resp=_context7.sent;status=resp.status,data=resp.data;if(!(status===STATUS_CODE.SUCCESS&&data.lenght!==0)){_context7.next=9;break;}_context7.next=7;return put(refeshHouseAreaSuccess(data));case 7:_context7.next=11;break;case 9:_context7.next=11;return put(refeshHouseAreaFailed(data));case 11:case\"end\":return _context7.stop();}}},_marked7);}function refeshPowerHouseArea(){var resp,status,data;return _regeneratorRuntime.wrap(function refeshPowerHouseArea$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return call(getListData,'api/v1/spm93/getlast5min','');case 2:resp=_context8.sent;status=resp.status,data=resp.data;if(!(status===STATUS_CODE.SUCCESS&&data.lenght!==0)){_context8.next=9;break;}_context8.next=7;return put(refeshPowerHouseAreaSuccess(data));case 7:_context8.next=11;break;case 9:_context8.next=11;return put(refeshPowerHouseAreaFailed(data));case 11:case\"end\":return _context8.stop();}}},_marked8);}// refesh data leak\nfunction refeshfishLakeArea(_ref6){var payload,params,resp,status,data;return _regeneratorRuntime.wrap(function refeshfishLakeArea$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:payload=_ref6.payload;params=payload.params;_context9.next=4;return call(getListData,'api/v1/spm91/getlast',{params:params});case 4:resp=_context9.sent;status=resp.status,data=resp.data;if(!(status===STATUS_CODE.SUCCESS&&data.lenght!==0)){_context9.next=11;break;}_context9.next=9;return put(refeshFishLakeAreaSuccess(data));case 9:_context9.next=13;break;case 11:_context9.next=13;return put(refeshFishLakeAreaFailed(data));case 13:case\"end\":return _context9.stop();}}},_marked9);}// refesh data leak\nfunction refeshPowerfishLakeArea(_ref7){var payload,params,resp,status,data;return _regeneratorRuntime.wrap(function refeshPowerfishLakeArea$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:payload=_ref7.payload;params=payload.params;_context10.next=4;return call(getListData,'api/v1/spm91/getlast5min',{params:params});case 4:resp=_context10.sent;status=resp.status,data=resp.data;console.log(data);if(!(status===STATUS_CODE.SUCCESS&&data.lenght!==0)){_context10.next=12;break;}_context10.next=10;return put(refeshPowerFishLakeAreaSuccess(data));case 10:_context10.next=14;break;case 12:_context10.next=14;return put(refeshPowerFishLakeAreaFailed(data));case 14:case\"end\":return _context10.stop();}}},_marked10);}// refesh data leak\nfunction refeshSolar01Area(_ref8){var payload,params,resp,status,data;return _regeneratorRuntime.wrap(function refeshSolar01Area$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:payload=_ref8.payload;params=payload.params;_context11.next=4;return call(getListData,'api/v1/spm91/getlast',{params:params});case 4:resp=_context11.sent;status=resp.status,data=resp.data;if(!(status===STATUS_CODE.SUCCESS&&data.lenght!==0)){_context11.next=11;break;}_context11.next=9;return put(refeshSolar01Success(data));case 9:_context11.next=13;break;case 11:_context11.next=13;return put(refeshSolar01Failed(data));case 13:case\"end\":return _context11.stop();}}},_marked11);}// refesh data leak\nfunction refeshPowerSolar01Area(_ref9){var payload,params,resp,status,data;return _regeneratorRuntime.wrap(function refeshPowerSolar01Area$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:payload=_ref9.payload;params=payload.params;_context12.next=4;return call(getListData,'api/v1/spm91/getlast5min',{params:params});case 4:resp=_context12.sent;status=resp.status,data=resp.data;if(!(status===STATUS_CODE.SUCCESS&&data.lenght!==0)){_context12.next=11;break;}_context12.next=9;return put(refeshPowerSolar01Success(data));case 9:_context12.next=13;break;case 11:_context12.next=13;return put(refeshPowerSolar01Failed(data));case 13:case\"end\":return _context12.stop();}}},_marked12);}// refesh data leak\nfunction refeshSolar02Area(_ref10){var payload,params,resp,status,data;return _regeneratorRuntime.wrap(function refeshSolar02Area$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:payload=_ref10.payload;params=payload.params;_context13.next=4;return call(getListData,'api/v1/spm91/getlast',{params:params});case 4:resp=_context13.sent;status=resp.status,data=resp.data;if(!(status===STATUS_CODE.SUCCESS&&data.lenght!==0)){_context13.next=11;break;}_context13.next=9;return put(refeshSolar02Success(data));case 9:_context13.next=13;break;case 11:_context13.next=13;return put(refeshSolar02Failed(data));case 13:case\"end\":return _context13.stop();}}},_marked13);}// refesh data leak\nfunction refeshPowerSolar02Area(_ref11){var payload,params,resp,status,data;return _regeneratorRuntime.wrap(function refeshPowerSolar02Area$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:payload=_ref11.payload;params=payload.params;_context14.next=4;return call(getListData,'api/v1/spm91/getlast5min',{params:params});case 4:resp=_context14.sent;status=resp.status,data=resp.data;if(!(status===STATUS_CODE.SUCCESS&&data.lenght!==0)){_context14.next=11;break;}_context14.next=9;return put(refeshPowerSolar02Success(data));case 9:_context14.next=13;break;case 11:_context14.next=13;return put(refeshPowerSolar02Failed(data));case 13:case\"end\":return _context14.stop();}}},_marked14);}function rootSaga(){return _regeneratorRuntime.wrap(function rootSaga$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:_context15.next=2;return fork(watchFetchListUserAction);case 2:_context15.next=4;return takeLatest(alarmTypes.FILTER_ALARM,filterAlarmSaga);case 4:_context15.next=6;return takeLatest(authTypes.AUTH_LOGIN,loginSaga);case 6:_context15.next=8;return takeLatest(authTypes.AUTH_SIGNUP,signupSaga);case 8:_context15.next=10;return takeLatest(authTypes.SET_USER_DELETE,deleteUserSaga);case 10:_context15.next=12;return takeLatest(authTypes.UPDATE_USER,updateUserSaga);case 12:_context15.next=14;return takeLatest(deviceTypes.REFESH_HOUSE_AREA,refeshHouseArea);case 14:_context15.next=16;return takeLatest(deviceTypes.REFESH_POWER_HOUSE_AREA,refeshPowerHouseArea);case 16:_context15.next=18;return takeLatest(deviceTypes.REFESH_FISH_LAKE_AREA,refeshfishLakeArea);case 18:_context15.next=20;return takeLatest(deviceTypes.REFESH_POWER_FISH_LAKE_AREA,refeshPowerfishLakeArea);case 20:_context15.next=22;return takeLatest(deviceTypes.REFESH_SOLAR01_AREA,refeshSolar01Area);case 22:_context15.next=24;return takeLatest(deviceTypes.REFESH_POWER_SOLAR01_AREA,refeshPowerSolar01Area);case 24:_context15.next=26;return takeLatest(deviceTypes.REFESH_SOLAR02_AREA,refeshSolar02Area);case 26:_context15.next=28;return takeLatest(deviceTypes.REFESH_POWER_SOLAR02_AREA,refeshPowerSolar02Area);case 28:case\"end\":return _context15.stop();}}},_marked15);}export default rootSaga;","map":{"version":3,"sources":["C:/Users/vietn/Desktop/AppEnegry2020/frontend/src/sagas/index.js"],"names":["filterAlarmSaga","loginSaga","signupSaga","updateUserSaga","watchFetchListUserAction","deleteUserSaga","refeshHouseArea","refeshPowerHouseArea","refeshfishLakeArea","refeshPowerfishLakeArea","refeshSolar01Area","refeshPowerSolar01Area","refeshSolar02Area","refeshPowerSolar02Area","rootSaga","fork","take","call","put","delay","takeLatest","select","alarmTypes","authTypes","deviceTypes","getListUser","addUser","loginUser","deteleUser","updateUser","getListData","STATUS_CODE","showLoading","hideLoading","hideModal","fetchListAlarm","authSignupSuccess","authSignupFaild","authLoginSuccess","authLoginFaild","checkAuthFaild","checkAuthSuccess","fetchListUserFailed","fetchListUserSuccess","setUserDeleteSucces","setUserDeleteFaild","updateUserSuccess","updateUserFailed","refeshSolar01Failed","refeshSolar01Success","refeshPowerSolar01Failed","refeshPowerSolar01Success","refeshSolar02Success","refeshSolar02Failed","refeshPowerSolar02Failed","refeshPowerSolar02Success","refeshFishLakeAreaSuccess","refeshFishLakeAreaFailed","refeshPowerFishLakeAreaSuccess","refeshPowerFishLakeAreaFailed","refeshHouseAreaSuccess","refeshHouseAreaFailed","refeshPowerHouseAreaSuccess","refeshPowerHouseAreaFailed","payload","keyword","console","log","type","q","devicename","email","password","resp","data","status","SUCCESS","name","operator","CREATED","state","auth","userEditting","id","UPDATED","FETCH_USER","action","params","reps","NO_CONTENT","lenght","FILTER_ALARM","AUTH_LOGIN","AUTH_SIGNUP","SET_USER_DELETE","UPDATE_USER","REFESH_HOUSE_AREA","REFESH_POWER_HOUSE_AREA","REFESH_FISH_LAKE_AREA","REFESH_POWER_FISH_LAKE_AREA","REFESH_SOLAR01_AREA","REFESH_POWER_SOLAR01_AREA","REFESH_SOLAR02_AREA","REFESH_POWER_SOLAR02_AREA"],"mappings":"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","sourcesContent":["import {fork,take,call,put,delay,takeLatest,select} from 'redux-saga/effects';//select to listTask from store\r\nimport * as alarmTypes from './../constants/alarm';\r\nimport * as authTypes from './../constants/auths';\r\nimport * as deviceTypes from './../constants/devices';\r\nimport {\r\n    //getListAlarm\r\n    } from './../apis/alarm';\r\nimport {    \r\n    getListUser,\r\n    addUser,\r\n    loginUser,\r\n    deteleUser,     \r\n    updateUser\r\n    } from './../apis/auth';\r\n\r\nimport {getListData,\r\n        //updateData,\r\n        //addData,\r\n        } from './../apis/devices';\r\nimport {STATUS_CODE} from './../constants/index';\r\nimport {showLoading,hideLoading} from './../actions/ui';\r\nimport {hideModal} from './../actions/modal';\r\nimport {\r\n    fetchListAlarm,\r\n    //fetchListAlarmSuccess,\r\n    //fetchListAlarmFailed,\r\n    } from './../actions/alarm';\r\nimport {\r\n    authSignupSuccess,\r\n    authSignupFaild,\r\n    authLoginSuccess,\r\n    authLoginFaild,\r\n    checkAuthFaild,\r\n    checkAuthSuccess,\r\n    fetchListUserFailed,\r\n    fetchListUserSuccess,\r\n    setUserDeleteSucces,    \r\n    setUserDeleteFaild,\r\n    updateUserSuccess,\r\n    updateUserFailed\r\n    } from './../actions/auths';\r\nimport { refeshSolar01Failed,\r\n        refeshSolar01Success,\r\n        refeshPowerSolar01Failed,\r\n        refeshPowerSolar01Success,\r\n        refeshSolar02Success,\r\n        refeshSolar02Failed,\r\n        refeshPowerSolar02Failed,\r\n        refeshPowerSolar02Success,\r\n        //refeshMainSuccess,\r\n        //refeshMainFailed,\r\n        refeshFishLakeAreaSuccess,\r\n        refeshFishLakeAreaFailed,\r\n        refeshPowerFishLakeAreaSuccess,\r\n        refeshPowerFishLakeAreaFailed,\r\n        refeshHouseAreaSuccess,\r\n        refeshHouseAreaFailed,\r\n        refeshPowerHouseAreaSuccess,\r\n        refeshPowerHouseAreaFailed,\r\n        //refeshAllAreaSuccess,\r\n        //refeshAllAreaFailed,\r\n     } from '../actions/devices';\r\n/**\r\n * B1: dispatch action fetchTask\r\n * B2:Call animationPlayState: \r\n * B3:Kiểm tra status_code\r\n * Nếu thành công thì thực thi ...\r\n * Nếu thất bại thì thực thi gì đó....button-big\r\n * B4:Tắt Loadding\r\n * B5:thực thi công việc tiếp theo...\r\n */\r\n// function* watchFetchListAlarmAction(){\r\n//     while (true){\r\n//         const action = yield take(alarmTypes.FETCH_ALARM);// khi FETCH_TASK duoc dispatch thi code tu day tro xuong moi chay\r\n//         yield put(showLoading());\r\n//         const {params}=action.payload;\r\n//         console.log(params)\r\n//         const resp = yield call(getListAlarm,'api/v1/main/getalarm','alarm');\r\n//         const {status,data}= resp;\r\n//         if(status === STATUS_CODE.SUCCESS){\r\n//             yield put(fetchListAlarmSuccess(data));  \r\n//         }else{\r\n//             yield put(fetchListAlarmFailed(data));\r\n//         }\r\n//         yield delay(100);\r\n//         yield put(hideLoading());\r\n//     } \r\n// }\r\n\r\nfunction* filterAlarmSaga({payload}){\r\n    yield delay(500);\r\n    const {keyword} = payload;\r\n    console.log(keyword.type)\r\n    yield put(fetchListAlarm({\r\n        //filter:keyword.charAt(0).toUpperCase() + keyword.slice(1),// mockAPI\r\n        q:keyword.devicename, //json-server\r\n        }),\r\n    );\r\n}\r\n\r\nfunction* loginSaga({payload}){\r\n    const {email,password}= payload;\r\n    yield put(showLoading());\r\n    const resp =yield call(loginUser,'api/v1/users/login',{email,password});\r\n    const{data,status}=resp;\r\n    if(status === STATUS_CODE.SUCCESS){\r\n        console.log(data);\r\n        yield put(authLoginSuccess(data));\r\n        yield put(checkAuthSuccess());\r\n    }else{\r\n        yield put(checkAuthFaild());\r\n        yield put(authLoginFaild(data));\r\n    }\r\n    yield delay(200);\r\n    yield put(hideLoading());\r\n\r\n}\r\nfunction* signupSaga({payload}){\r\n    const {name,email,password,operator}= payload;\r\n    yield put(showLoading());\r\n    const resp = yield call(addUser,'api/v1/users/add',{name,email,password,operator});\r\n    const{data,status}=resp;\r\n    if(status === STATUS_CODE.CREATED ){\r\n        const resp = yield call(getListUser,'api/v1/users/','');\r\n        const {status,data}= resp;\r\n        yield delay(100);\r\n        if(status === STATUS_CODE.SUCCESS){\r\n         yield put(authSignupSuccess(data));\r\n         yield put(hideModal());\r\n        }\r\n    }else{\r\n         yield put(authSignupFaild(data));\r\n    }\r\n    yield delay(100);\r\n    yield put(hideLoading());\r\n}\r\nfunction* updateUserSaga({payload}){\r\n    const {name,email,password,operator}= payload;\r\n    const userEditting = yield select(state => state.auth.userEditting);\r\n    const {id} = userEditting;\r\n    yield put(showLoading());\r\n    const resp = yield call(updateUser,'api/v1/users/update',{id,name,email,password,operator});\r\n    const{data,status}=resp;\r\n    if(status === STATUS_CODE.UPDATED ){\r\n        const resp = yield call(getListUser,'api/v1/users','');\r\n        const {status,data}= resp;\r\n        yield delay(100);\r\n        if(status === STATUS_CODE.SUCCESS){\r\n         yield put(updateUserSuccess(data));\r\n         yield put(hideModal());\r\n        }\r\n    }else {\r\n         yield put(updateUserFailed(data));\r\n         \r\n    }\r\n    yield delay(100);\r\n    yield put(hideLoading());\r\n}\r\nfunction* watchFetchListUserAction(){\r\n    while (true){\r\n        const action = yield take(authTypes.FETCH_USER);// khi FETCH_TASK duoc dispatch thi code tu day tro xuong moi chay\r\n        yield put(showLoading());\r\n        const {params}=action.payload;\r\n        const resp = yield call(getListUser,'api/v1/users/',params);\r\n        const {status,data}= resp;\r\n        if(status === STATUS_CODE.SUCCESS){\r\n            yield put(fetchListUserSuccess(data));  \r\n            \r\n        }else{\r\n            yield put(fetchListUserFailed(data));\r\n        }\r\n        yield delay(50);\r\n        yield put(hideLoading());\r\n    } \r\n}\r\n\r\nfunction* deleteUserSaga({payload}){\r\n    const {id}= payload;\r\n    yield put(showLoading());\r\n    const reps= yield call(deteleUser,'api/v1/users',id);\r\n    const {data,status}=reps;\r\n    if(status === STATUS_CODE.NO_CONTENT){\r\n        const resp = yield call(getListUser,'api/v1/users','');\r\n        const {status,data}= resp;\r\n        yield delay(100);\r\n        if(status === STATUS_CODE.SUCCESS){\r\n            yield put(setUserDeleteSucces(data));\r\n            yield put(hideModal());\r\n        }  \r\n    } else {\r\n        yield put(setUserDeleteFaild(data));\r\n    }\r\n    yield delay(100);\r\n    yield put(hideLoading());\r\n}\r\n\r\n// refesh data leak\r\nfunction* refeshHouseArea(){\r\n    const resp = yield call(getListData,'api/v1/spm93/getlast','');\r\n    const {status,data}= resp;\r\n    if(status === STATUS_CODE.SUCCESS && data.lenght !== 0){\r\n        yield put(refeshHouseAreaSuccess(data));  \r\n    }else{\r\n        yield put(refeshHouseAreaFailed(data));\r\n    } \r\n}\r\nfunction* refeshPowerHouseArea(){\r\n    const resp = yield call(getListData,'api/v1/spm93/getlast5min','');\r\n    const {status,data}= resp;\r\n    if(status === STATUS_CODE.SUCCESS && data.lenght !== 0){\r\n        yield put(refeshPowerHouseAreaSuccess(data));  \r\n    }else{\r\n        yield put(refeshPowerHouseAreaFailed(data));\r\n    } \r\n}\r\n// refesh data leak\r\nfunction* refeshfishLakeArea({payload}){\r\n    const {params} = payload;\r\n    const resp = yield call(getListData,'api/v1/spm91/getlast',{params});\r\n    const {status,data}= resp;\r\n\r\n    if(status === STATUS_CODE.SUCCESS && data.lenght !== 0){\r\n        yield put(refeshFishLakeAreaSuccess(data));  \r\n    }else{\r\n        yield put(refeshFishLakeAreaFailed(data));\r\n    }\r\n    \r\n}\r\n// refesh data leak\r\nfunction* refeshPowerfishLakeArea({payload}){\r\n    const {params} = payload;\r\n    const resp = yield call(getListData,'api/v1/spm91/getlast5min',{params});\r\n    const {status,data}= resp;\r\n    console.log(data)\r\n    if(status === STATUS_CODE.SUCCESS && data.lenght !== 0){\r\n        yield put(refeshPowerFishLakeAreaSuccess(data));  \r\n    }else{\r\n        yield put(refeshPowerFishLakeAreaFailed(data));\r\n    }\r\n    \r\n}\r\n// refesh data leak\r\nfunction* refeshSolar01Area({payload}){\r\n    const {params} = payload;\r\n    const resp = yield call(getListData,'api/v1/spm91/getlast',{params});\r\n    const {status,data}= resp;\r\n    if(status === STATUS_CODE.SUCCESS && data.lenght !== 0){\r\n        yield put(refeshSolar01Success(data));  \r\n    }else{\r\n        yield put(refeshSolar01Failed(data));\r\n    }\r\n    \r\n}\r\n// refesh data leak\r\nfunction* refeshPowerSolar01Area({payload}){\r\n    const {params} = payload;\r\n    const resp = yield call(getListData,'api/v1/spm91/getlast5min',{params});\r\n    const {status,data}= resp;\r\n    if(status === STATUS_CODE.SUCCESS && data.lenght !== 0){\r\n        yield put(refeshPowerSolar01Success(data));  \r\n    }else{\r\n        yield put(refeshPowerSolar01Failed(data));\r\n    }\r\n    \r\n}\r\n// refesh data leak\r\nfunction* refeshSolar02Area({payload}){\r\n    const {params} = payload;\r\n    const resp = yield call(getListData,'api/v1/spm91/getlast',{params});\r\n    const {status,data}= resp;\r\n    if(status === STATUS_CODE.SUCCESS && data.lenght !== 0){\r\n        yield put(refeshSolar02Success(data));  \r\n    }else{\r\n        yield put(refeshSolar02Failed(data));\r\n    }\r\n    \r\n}\r\n// refesh data leak\r\nfunction* refeshPowerSolar02Area({payload}){\r\n    const {params} = payload;\r\n    const resp = yield call(getListData,'api/v1/spm91/getlast5min',{params});\r\n    const {status,data}= resp;\r\n    if(status === STATUS_CODE.SUCCESS && data.lenght !== 0){\r\n        yield put(refeshPowerSolar02Success(data));  \r\n    }else{\r\n        yield put(refeshPowerSolar02Failed(data));\r\n    }\r\n    \r\n}\r\n\r\nfunction* rootSaga() {\r\n    // yield fork(watchFetchListAlarmAction);\r\n    yield fork(watchFetchListUserAction);\r\n    yield takeLatest(alarmTypes.FILTER_ALARM,filterAlarmSaga);\r\n    yield takeLatest(authTypes.AUTH_LOGIN,loginSaga);\r\n    yield takeLatest(authTypes.AUTH_SIGNUP,signupSaga)\r\n    yield takeLatest(authTypes.SET_USER_DELETE,deleteUserSaga)  \r\n    yield takeLatest (authTypes.UPDATE_USER,updateUserSaga)\r\n    yield takeLatest (deviceTypes.REFESH_HOUSE_AREA,refeshHouseArea)\r\n    yield takeLatest (deviceTypes.REFESH_POWER_HOUSE_AREA,refeshPowerHouseArea)\r\n    yield takeLatest (deviceTypes.REFESH_FISH_LAKE_AREA,refeshfishLakeArea)\r\n    yield takeLatest (deviceTypes.REFESH_POWER_FISH_LAKE_AREA,refeshPowerfishLakeArea)\r\n    yield takeLatest (deviceTypes.REFESH_SOLAR01_AREA,refeshSolar01Area)\r\n    yield takeLatest (deviceTypes.REFESH_POWER_SOLAR01_AREA,refeshPowerSolar01Area)\r\n    yield takeLatest (deviceTypes.REFESH_SOLAR02_AREA,refeshSolar02Area)\r\n    yield takeLatest (deviceTypes.REFESH_POWER_SOLAR02_AREA,refeshPowerSolar02Area)\r\n    \r\n}\r\n\r\nexport default rootSaga;"]},"metadata":{},"sourceType":"module"}