{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\vietn\\\\Desktop\\\\AppEnegry2020\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\vietn\\\\Desktop\\\\AppEnegry2020\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\vietn\\\\Desktop\\\\AppEnegry2020\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\vietn\\\\Desktop\\\\AppEnegry2020\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{withStyles,Button}from'@material-ui/core';import{compose,bindActionCreators}from'redux';import{connect}from'react-redux';import{Redirect}from'react-router-dom';import{Field,reduxForm}from'redux-form';import Grid from'@material-ui/core/Grid';import renderTextField from'../../components/FormHelper/TextField/index';import RealTimeColumn from'./../../components/RealTimeColumn';import validate from'../../commons/Validation/';import AreaChart from'./../../components/AreaChart';import*as analyticsActions from'./../../actions/analytics';import styles from'./styles';var Analytics=/*#__PURE__*/function(_Component){_inherits(Analytics,_Component);var _super=_createSuper(Analytics);function Analytics(){var _this;_classCallCheck(this,Analytics);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.handleCloseForm=function(){};_this.handleSubmitForm=function(data){var analyticsActionsCreators=_this.props.analyticsActionsCreators;var fetchListAnalytics=analyticsActionsCreators.fetchListAnalytics;console.log(data);fetchListAnalytics(data);};return _this;}_createClass(Analytics,[{key:\"componentDidMount\",value:function componentDidMount(){}},{key:\"render\",value:function render(){var _this$props=this.props,handleSubmit=_this$props.handleSubmit,redirectToReferrer=_this$props.redirectToReferrer,invalid=_this$props.invalid,initialValues=_this$props.initialValues,listAnalytics=_this$props.listAnalytics;console.log(listAnalytics);if(redirectToReferrer===false&&localStorage.getItem(\"token:\")===null){return/*#__PURE__*/React.createElement(Redirect,{to:'/'});}return/*#__PURE__*/React.createElement(\"div\",{className:\"pr-3 pl-3 pt-1\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit(this.handleSubmitForm)},/*#__PURE__*/React.createElement(Grid,{container:true,spacing:1,className:\"mr-3 p-2\"},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,style:{borderBottom:'2px solid #00CC00'}},/*#__PURE__*/React.createElement(\"label\",{style:{fontWeight:600,fontSize:'1rem'}},\"Tang ph\\xE2n t\\xEDch, b\\xE1o c\\xE1o\")),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:1},/*#__PURE__*/React.createElement(Grid,{item:true,sx:12,md:4},/*#__PURE__*/React.createElement(Grid,{container:true,spacing:1,className:\"pt-4\"},/*#__PURE__*/React.createElement(Grid,{item:true,xs:6,md:3},/*#__PURE__*/React.createElement(\"label\",{style:{fontSize:'1rem'}},\"Khu v\\u1EF1c ph\\xE2n t\\xEDch\")),/*#__PURE__*/React.createElement(Grid,{item:true,sx:6,md:3},/*#__PURE__*/React.createElement(Field,{name:\"area\",component:\"select\",required:\"required\"},/*#__PURE__*/React.createElement(\"option\",null),/*#__PURE__*/React.createElement(\"option\",{value:\"allarea\"},\"To\\xE0n ng\\xF4i nh\\xE0  \"),/*#__PURE__*/React.createElement(\"option\",{value:\"fish_tank_area\"},\"H\\u1ED3 c\\xE1  \"),/*#__PURE__*/React.createElement(\"option\",{value:\"solar_01\"},\"Solar 1  \"),/*#__PURE__*/React.createElement(\"option\",{value:\"solar_02\"},\"Solar 2  \"))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:6,md:3},/*#__PURE__*/React.createElement(\"label\",{style:{fontSize:'1rem'}},\"Ki\\u1EC3u ph\\xE2n t\\xEDch\")),/*#__PURE__*/React.createElement(Grid,{item:true,sx:6,md:3},/*#__PURE__*/React.createElement(Field,{name:\"type\",component:\"select\",required:\"required\"},/*#__PURE__*/React.createElement(\"option\",null),/*#__PURE__*/React.createElement(\"option\",{value:\"enegry\"},\"N\\u0103ng l\\u01B0\\u1EE3ng\"),/*#__PURE__*/React.createElement(\"option\",{value:\"power\"},\"C\\xF4ng su\\u1EA5t\"),/*#__PURE__*/React.createElement(\"option\",{value:\"current\"},\"D\\xF2ng \\u0111i\\u1EC7n\"))))),/*#__PURE__*/React.createElement(Grid,{item:true,sx:12,md:4},/*#__PURE__*/React.createElement(Grid,{container:true,spacing:1},/*#__PURE__*/React.createElement(Grid,{item:true,sx:12,md:6},/*#__PURE__*/React.createElement(Field,{id:\"fromtime\",label:\"T\\u1EEB th\\u1EDDi gian\",name:\"fromtime\",inputProps:{style:{fontSize:15}}// font size of input text\n// InputLabelProps={{}} // font size of input label\n,type:\"time\",fullWidth:true,InputLabelProps:{shrink:true,style:{fontSize:15}},size:\"small\",component:renderTextField,value:initialValues?initialValues.name:'00:00:00'})),/*#__PURE__*/React.createElement(Grid,{item:true,sx:12,md:6},/*#__PURE__*/React.createElement(Field,{id:\"fromdate\",label:\"\\u0110\\u1EBFn ng\\xE0y\",name:\"fromdate\",fullWidth:true,inputProps:{style:{fontSize:15}}// font size of input text\n// InputLabelProps={{style: {fontSize: 12}}} // font size of input label\n,type:\"date\",InputLabelProps:{shrink:true,style:{fontSize:15}},size:\"small\",component:renderTextField,value:initialValues?initialValues.name:'2020-11-23'})))),/*#__PURE__*/React.createElement(Grid,{item:true,sx:12,md:4},/*#__PURE__*/React.createElement(Grid,{container:true,spacing:1},/*#__PURE__*/React.createElement(Grid,{item:true,sx:12,md:6},/*#__PURE__*/React.createElement(Field,{id:\"totime\",label:\"t\\u1EDBi th\\u1EDDi gian\",name:\"totime\",inputProps:{style:{fontSize:15}}// font size of input text\n// InputLabelProps={{}} // font size of input label\n,type:\"time\",fullWidth:true,InputLabelProps:{shrink:true,style:{fontSize:15}},size:\"small\",component:renderTextField,value:initialValues?initialValues.name:''})),/*#__PURE__*/React.createElement(Grid,{item:true,sx:12,md:6},/*#__PURE__*/React.createElement(Field,{id:\"todate\",label:\"\\u0110\\u1EBFn ng\\xE0y\",name:\"todate\",fullWidth:true,inputProps:{style:{fontSize:15}}// font size of input text\n// InputLabelProps={{style: {fontSize: 12}}} // font size of input label\n,type:\"date\",InputLabelProps:{shrink:true,style:{fontSize:15}},size:\"small\",component:renderTextField,value:initialValues?initialValues.name:''}))))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,className:\"pb-2\"},/*#__PURE__*/React.createElement(Grid,{item:true,sx:12},/*#__PURE__*/React.createElement(Button,{className:\"mt-3\",variant:\"contained\",type:\"submit\",disabled:invalid,size:\"small\",style:{color:'#fff',fontSize:'0.7rem',backgroundColor:\"\".concat(invalid===true?\"#ff0000\":'#00cc00')}},\"apply\"))))),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:1,className:\" mr-2 p-2 mb-2\",style:{border:'2px solid #00CC00',minHeight:'30%'}},/*#__PURE__*/React.createElement(\"label\",{className:\"font-weight-bolder h6\",style:{height:'fit-content',maxHeight:'40vh'}},\" K\\u1EBFt qu\\u1EA3 ph\\xE2n t\\xEDch:\"),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,md:12},/*#__PURE__*/React.createElement(AreaChart,{data:listAnalytics}))),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:1,className:\"mr-2 p-2  \",style:{border:'2px solid #00CC00',minHeight:'30%'}},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,md:12},/*#__PURE__*/React.createElement(RealTimeColumn,{data:listAnalytics}))));}}]);return Analytics;}(Component);var FORM_ANALYTICS=\"TASK_ANALYTICS\";var withReduxForm=reduxForm({form:FORM_ANALYTICS,validate:validate});var mapStateToProps=function mapStateToProps(state){return{listAnalytics:state.analytics.listAnalytics,redirectToReferrer:state.auth.redirectToReferrer};};var mapDispatchToProps=function mapDispatchToProps(dispatch,props){return{analyticsActionsCreators:bindActionCreators(analyticsActions,dispatch)};};var withConnect=connect(mapStateToProps,mapDispatchToProps);export default compose(withStyles(styles),withConnect,withReduxForm)(Analytics);","map":{"version":3,"sources":["C:/Users/vietn/Desktop/AppEnegry2020/frontend/src/containers/AnalyticsPage/index.js"],"names":["React","Component","withStyles","Button","compose","bindActionCreators","connect","Redirect","Field","reduxForm","Grid","renderTextField","RealTimeColumn","validate","AreaChart","analyticsActions","styles","Analytics","handleCloseForm","handleSubmitForm","data","analyticsActionsCreators","props","fetchListAnalytics","console","log","handleSubmit","redirectToReferrer","invalid","initialValues","listAnalytics","localStorage","getItem","borderBottom","fontWeight","fontSize","style","shrink","name","color","backgroundColor","border","minHeight","height","maxHeight","FORM_ANALYTICS","withReduxForm","form","mapStateToProps","state","analytics","auth","mapDispatchToProps","dispatch","withConnect"],"mappings":"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","sourcesContent":["\r\nimport React, { Component } from 'react';\r\nimport { withStyles, Button} from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\nimport {compose,bindActionCreators} from 'redux';\r\nimport {connect} from 'react-redux';\r\nimport {Redirect} from 'react-router-dom';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport renderTextField from '../../components/FormHelper/TextField/index';\r\nimport RealTimeColumn from './../../components/RealTimeColumn';\r\nimport validate from '../../commons/Validation/';\r\nimport AreaChart from './../../components/AreaChart';\r\nimport * as analyticsActions from './../../actions/analytics';\r\nimport styles from './styles';\r\n\r\nclass Analytics extends Component {\r\n    componentDidMount(){\r\n        \r\n    }\r\n    \r\n    handleCloseForm=()=>{\r\n    }\r\n    handleSubmitForm = data => {\r\n        const {analyticsActionsCreators} = this.props;\r\n        const {fetchListAnalytics} = analyticsActionsCreators;\r\n        console.log(data)\r\n        fetchListAnalytics(data);\r\n\r\n    };\r\n    render() {\r\n        const {handleSubmit,redirectToReferrer,invalid,initialValues,listAnalytics}=this.props; \r\n        console.log(listAnalytics);\r\n        if (redirectToReferrer === false &&  localStorage.getItem(\"token:\") === null) {\r\n            return (<Redirect to={'/'}/>)\r\n        }\r\n        return(\r\n                <div className=\"pr-3 pl-3 pt-1\">\r\n                    <form onSubmit={handleSubmit(this.handleSubmitForm)}>\r\n                        <Grid container spacing={1} className=\"mr-3 p-2\">\r\n                            <Grid item xs={12} style={{borderBottom: '2px solid #00CC00'}}>\r\n                                <label style={{fontWeight:600,fontSize:'1rem'}}>Tang phân tích, báo cáo</label>\r\n                            </Grid>\r\n                            <Grid container spacing={1}>\r\n                                <Grid item sx={12} md={4}>\r\n                                    <Grid container spacing={1} className=\"pt-4\">\r\n                                        <Grid item xs={6} md ={3}>\r\n                                            <label style={{fontSize:'1rem'}}>Khu vực phân tích</label>\r\n                                        </Grid>\r\n                                        <Grid item sx={6} md={3}>\r\n                                            <Field name=\"area\" component=\"select\" required=\"required\"> \r\n                                                <option/> \r\n                                                <option value=\"allarea\">Toàn ngôi nhà  </option>\r\n                                                <option value=\"fish_tank_area\">Hồ cá  </option>\r\n                                                <option value=\"solar_01\">Solar 1  </option>\r\n                                                <option value=\"solar_02\">Solar 2  </option>\r\n                                            </Field>\r\n\r\n                                        </Grid>\r\n                                        <Grid item xs={6} md ={3}>\r\n                                            <label style={{fontSize:'1rem'}}>Kiểu phân tích</label>\r\n                                        </Grid>\r\n                                        <Grid item sx={6} md={3}>\r\n                                            <Field name=\"type\"   component=\"select\" required=\"required\">\r\n                                                <option/>\r\n                                                <option value=\"enegry\" >Năng lượng</option>\r\n                                                <option value=\"power\">Công suất</option>\r\n                                                <option value=\"current\">Dòng điện</option>\r\n                                            </Field>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </Grid>\r\n                                <Grid item sx={12} md={4}>\r\n                                    <Grid container spacing={1}>\r\n                                        <Grid item sx={12} md={6}>\r\n                                            <Field\r\n                                            id=\"fromtime\"\r\n                                            label=\"Từ thời gian\"\r\n                                            name=\"fromtime\"\r\n                                            inputProps={{style: {fontSize: 15}}} // font size of input text\r\n                                            // InputLabelProps={{}} // font size of input label\r\n                                            type=\"time\"\r\n                                            fullWidth\r\n                                            InputLabelProps={{\r\n                                                shrink: true,\r\n                                            style: {fontSize: 15}\r\n                                            }}\r\n                                            size=\"small\"\r\n                                            component={renderTextField}\r\n                                            value={initialValues ? initialValues.name :'00:00:00'}\r\n                                            />\r\n                                        </Grid>\r\n                                        <Grid item sx={12} md={6}>\r\n                                            <Field\r\n                                                id=\"fromdate\"\r\n                                                label=\"Đến ngày\"\r\n                                                name=\"fromdate\"\r\n                                                fullWidth\r\n                                                inputProps={{style: {fontSize: 15}}} // font size of input text\r\n                                                // InputLabelProps={{style: {fontSize: 12}}} // font size of input label\r\n                                                type=\"date\"\r\n                                                InputLabelProps={{\r\n                                                    shrink: true,\r\n                                                    style: {fontSize: 15}\r\n                                                    }}\r\n                                                size=\"small\"\r\n                                                component={renderTextField}\r\n                                                value={initialValues ? initialValues.name :'2020-11-23'}\r\n                                                />\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </Grid>\r\n                                <Grid item sx={12} md={4}>\r\n                                    <Grid container spacing={1}>\r\n                                        <Grid item sx={12} md={6}>\r\n                                            <Field\r\n                                            id=\"totime\"\r\n                                            label=\"tới thời gian\"\r\n                                            name=\"totime\"\r\n                                            inputProps={{style: {fontSize: 15}}} // font size of input text\r\n                                            // InputLabelProps={{}} // font size of input label\r\n                                            type=\"time\"\r\n                                            fullWidth\r\n                                            InputLabelProps={{\r\n                                                shrink: true,\r\n                                            style: {fontSize: 15}\r\n                                            }}\r\n                                            size=\"small\"\r\n                                            component={renderTextField}\r\n                                            value={initialValues ? initialValues.name :''}\r\n                                            />\r\n                                        </Grid>\r\n                                        <Grid item sx={12} md={6}>\r\n                                            <Field\r\n                                            id=\"todate\"\r\n                                            label=\"Đến ngày\"\r\n                                            name=\"todate\"\r\n                                            fullWidth\r\n                                            inputProps={{style: {fontSize: 15}}} // font size of input text\r\n                                            // InputLabelProps={{style: {fontSize: 12}}} // font size of input label\r\n                                            type=\"date\"\r\n                                            InputLabelProps={{\r\n                                                shrink: true,\r\n                                                style: {fontSize: 15}\r\n                                                }}\r\n                                            size=\"small\"\r\n                                            component={renderTextField}\r\n                                            value={initialValues ? initialValues.name :''}\r\n                                            />\r\n                                        </Grid>\r\n                                    </Grid>\r\n                            </Grid>\r\n                            </Grid>\r\n                            <Grid item xs={12} className=\"pb-2\">\r\n                                <Grid item sx={12}>\r\n                                    <Button\r\n                                        className=\"mt-3\"\r\n                                        variant=\"contained\"\r\n                                        type=\"submit\"\r\n                                        disabled={invalid }\r\n                                        size='small'\r\n                                        style={{color:'#fff',fontSize:'0.7rem',backgroundColor:`${invalid === true ? \"#ff0000\":'#00cc00'}`}}\r\n                                        >\r\n                                            apply\r\n                                    </Button>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </form>\r\n                    <Grid container spacing={1} className=\" mr-2 p-2 mb-2\" style={{border: '2px solid #00CC00',minHeight:'30%'}}>\r\n                        <label className=\"font-weight-bolder h6\" style={{height:'fit-content',maxHeight:'40vh' }}> Kết quả phân tích:</label>\r\n                        <Grid item xs={12} md ={12}>\r\n                           <AreaChart data = {listAnalytics}/>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid container spacing={1} className=\"mr-2 p-2  \" style={{border: '2px solid #00CC00',minHeight:'30%'}}>\r\n                        <Grid item xs={12} md ={12}>\r\n                        <RealTimeColumn data = {listAnalytics}/>\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n        );\r\n    }\r\n}\r\n\r\nAnalytics.propTypes={\r\n    classes:PropTypes.object,\r\n    handleSubmit:PropTypes.func,\r\n    invalid:PropTypes.bool,\r\n    submitting:PropTypes.bool,\r\n    onButton:PropTypes.bool,\r\n    redirectToReferrer:PropTypes.bool,\r\n    initialValues:PropTypes.object,\r\n    authActionCreators:PropTypes.shape({\r\n        onButtonSubmit:PropTypes.func,\r\n        authSignup:PropTypes.func,\r\n        offButtonSubmit:PropTypes.func,\r\n        \r\n    }),\r\n}\r\n\r\nconst FORM_ANALYTICS =\"TASK_ANALYTICS\";\r\nconst withReduxForm = reduxForm({\r\n    form: FORM_ANALYTICS,\r\n    validate:validate,\r\n});\r\nconst mapStateToProps=state=>{\r\n    return{\r\n        listAnalytics:state.analytics.listAnalytics,\r\n        redirectToReferrer:state.auth.redirectToReferrer,\r\n    }\r\n};\r\nconst mapDispatchToProps=(dispatch,props)=>{\r\n    return{\r\n        analyticsActionsCreators:bindActionCreators(analyticsActions,dispatch),\r\n    }\r\n};\r\nconst withConnect=connect(mapStateToProps,mapDispatchToProps);\r\nexport default compose(\r\n    withStyles(styles),\r\n    withConnect,\r\n    withReduxForm,\r\n)(Analytics);\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}