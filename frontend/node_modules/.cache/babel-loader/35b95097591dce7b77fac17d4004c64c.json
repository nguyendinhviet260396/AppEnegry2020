{"ast":null,"code":"function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport G6 from '@antv/g6/es';\nG6.registerNode('card-node', {\n  draw: function draw(cfg, group) {\n    var color = cfg && cfg.color ? cfg.color : '#5B8FF9';\n    var size = cfg && cfg.size ? cfg.size : [100, 30];\n    if (typeof size === 'number') size = [size, size];\n    var style = cfg && cfg.style ? cfg.style : {};\n    style = Object.assign({\n      radius: 2,\n      fill: '#fff'\n    }, style);\n    color = style.stroke || '#5B8FF9';\n    var r = style.radius || 0;\n    var shape = group.addShape('rect', {\n      attrs: _objectSpread({\n        x: -size[0] / 2,\n        y: -size[1] / 2,\n        width: size[0],\n        height: size[1],\n        stroke: color\n      }, style),\n      name: 'main-box',\n      draggable: true\n    }); // title text\n\n    var title = cfg.title || cfg.label;\n    var titleTextShape;\n    var labelStyle = cfg && cfg.labelCfg && cfg.labelCfg.style ? cfg.labelCfg.style : {};\n\n    if (title) {\n      var titleStyle = Object.assign({\n        fill: '#fff'\n      }, labelStyle);\n      titleTextShape = group.addShape('text', {\n        attrs: _objectSpread(_objectSpread({\n          textBaseline: 'top',\n          x: -size[0] / 2 + 8,\n          y: -size[1] / 2 + 2,\n          // lineHeight: 20,\n          text: title\n        }, titleStyle), {}, {\n          fill: '#fff'\n        }),\n        name: 'title'\n      });\n    }\n\n    var titleBox = titleTextShape ? titleTextShape.getBBox() : {\n      height: size[1] / 2\n    }; // title rect\n\n    var titleRectShape = group.addShape('rect', {\n      attrs: {\n        x: -size[0] / 2,\n        y: -size[1] / 2,\n        width: size[0],\n        height: titleBox.height + 4,\n        fill: color,\n        radius: [r, r, 0, 0]\n      },\n      name: 'title-rect',\n      draggable: true\n    });\n    titleTextShape && titleTextShape.toFront(); // marker\n\n    var markerShape;\n\n    if (cfg.children) {\n      markerShape = group.addShape('marker', {\n        attrs: {\n          x: size[0] / 2,\n          y: 0,\n          r: 6,\n          cursor: 'pointer',\n          symbol: cfg.collapsed ? G6.Marker.expand : G6.Marker.collapse,\n          stroke: color,\n          lineWidth: 1,\n          fill: '#fff'\n        },\n        name: 'collapse-icon'\n      });\n    } // description\n\n\n    var description = cfg && cfg.description ? cfg.description : undefined;\n    var titleRectBox = titleRectShape.getBBox();\n    var descriptionTextShape;\n\n    if (description) {\n      descriptionTextShape = group.addShape('text', {\n        attrs: _objectSpread({\n          textBaseline: 'top',\n          x: -size[0] / 2 + 8,\n          y: -size[1] / 2 + titleRectBox.height + 8,\n          text: description\n        }, labelStyle),\n        name: \"description\"\n      });\n    }\n\n    if (descriptionTextShape) {\n      var _markerShape;\n\n      var desTextShapeBBox = descriptionTextShape.getBBox();\n      var height = titleRectBox.height + 16 + desTextShapeBBox.height;\n      var width = size[0] > desTextShapeBBox.width + 16 ? size[0] : desTextShapeBBox.width + 16;\n      shape.attr({\n        width: width,\n        height: height\n      });\n      titleRectShape === null || titleRectShape === void 0 ? void 0 : titleRectShape.attr('width', width);\n      (_markerShape = markerShape) === null || _markerShape === void 0 ? void 0 : _markerShape.attr({\n        x: width - size[0] / 2,\n        y: height / 2 - size[1] / 2\n      });\n    }\n\n    return shape;\n  },\n  update: undefined\n}, 'single-node');\nG6.registerNode('round-rect', {\n  drawShape: function drawShape(cfg, group) {\n    var color = cfg && cfg.color ? cfg.color : '#5B8FF9';\n    var size = cfg && cfg.size ? cfg.size : [100, 30];\n    if (typeof size === 'number') size = [size, size];\n    var style = cfg && cfg.style ? cfg.style : {};\n    if (style.stroke) color = style.stroke;\n    var fill = style && style.fill ? style.fill : '#fff';\n    style = Object.assign({\n      width: size[0],\n      height: size[1],\n      radius: size[1] / 2,\n      fill: fill,\n      lineWidth: 1.2,\n      stroke: color\n    }, style);\n    var rect = group.addShape('rect', {\n      attrs: _objectSpread({\n        x: -size[0] / 2,\n        y: -size[1] / 2\n      }, style),\n      name: 'rect-shape'\n    }); // circles for anchor points\n\n    group.addShape('circle', {\n      attrs: {\n        x: -size[0] / 2,\n        y: 0,\n        r: 3,\n        fill: style.stroke\n      },\n      name: 'circle-shape'\n    });\n    group.addShape('circle', {\n      attrs: {\n        x: size[0] / 2,\n        y: 0,\n        r: 3,\n        fill: style.stroke\n      },\n      name: 'circle-shape2'\n    });\n    return rect;\n  },\n  getAnchorPoints: function getAnchorPoints() {\n    return [[0, 0.5], [1, 0.5]];\n  },\n  update: function update(cfg, item) {\n    var group = item.getContainer();\n    var children = group.get('children');\n    var node = children[0];\n    var circleLeft = children[1];\n    var circleRight = children[2];\n    var stroke = cfg.style && cfg.style.stroke ? cfg.style.stroke : '#5B8FF9';\n\n    if (stroke) {\n      node.attr('stroke', stroke);\n      circleLeft.attr('fill', stroke);\n      circleRight.attr('fill', stroke);\n    }\n  }\n}, 'single-node');\nexport var customIconNode = function customIconNode(params) {\n  G6.registerNode('icon-node', {\n    options: {\n      size: [60, 20],\n      stroke: '#91d5ff',\n      fill: '#91d5ff'\n    },\n    draw: function draw(cfg, group) {\n      var styles = this.getShapeStyle(cfg);\n      var _cfg$labelCfg = cfg.labelCfg,\n          labelCfg = _cfg$labelCfg === void 0 ? {} : _cfg$labelCfg;\n      var keyShape = group.addShape('rect', {\n        attrs: _objectSpread(_objectSpread({}, styles), {}, {\n          x: 0,\n          y: 0\n        })\n      });\n      /**\n       * leftIcon 格式如下：\n       *  {\n       *    style: ShapeStyle;\n       *    img: ''\n       *  }\n       */\n\n      var style = {\n        fill: '#e6fffb'\n      };\n      var img = 'https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png';\n\n      if (cfg.leftIcon) {\n        style = Object.assign({}, style, cfg.leftIcon.style);\n        img = cfg.leftIcon.img;\n      }\n\n      group.addShape('rect', {\n        attrs: _objectSpread({\n          x: 1,\n          y: 1,\n          width: 38,\n          height: styles.height - 2\n        }, style)\n      });\n      group.addShape('image', {\n        attrs: {\n          x: 8,\n          y: 8,\n          width: 24,\n          height: 24,\n          img: img\n        },\n        name: 'image-shape'\n      });\n\n      if (params.enableEdit) {\n        group.addShape('marker', {\n          attrs: {\n            x: styles.width / 3,\n            y: styles.height + 6,\n            r: 6,\n            stroke: '#73d13d',\n            cursor: 'pointer',\n            symbol: G6.Marker.expand\n          },\n          name: 'add-item'\n        });\n        group.addShape('marker', {\n          attrs: {\n            x: styles.width * 2 / 3,\n            y: styles.height + 6,\n            r: 6,\n            stroke: '#ff4d4f',\n            cursor: 'pointer',\n            symbol: G6.Marker.collapse\n          },\n          name: 'remove-item'\n        });\n      }\n\n      if (cfg.label) {\n        group.addShape('text', {\n          attrs: _objectSpread(_objectSpread({}, labelCfg.style), {}, {\n            text: cfg.label,\n            x: styles.width / 2,\n            y: styles.height / 1.5\n          })\n        });\n      }\n\n      return keyShape;\n    }\n  }, 'rect');\n};\nG6.registerEdge('fund-polyline', {\n  draw: function draw(cfg, group) {\n    var startPoint = cfg.startPoint;\n    var endPoint = cfg.endPoint;\n    var Ydiff = endPoint.y - startPoint.y;\n    var slope = Ydiff !== 0 ? 500 / Math.abs(Ydiff) : 0;\n    var cpOffset = 16;\n    var offset = Ydiff < 0 ? cpOffset : -cpOffset;\n    var line1EndPoint = {\n      x: startPoint.x + slope,\n      y: endPoint.y + offset\n    };\n    var line2StartPoint = {\n      x: line1EndPoint.x + cpOffset,\n      y: endPoint.y\n    }; // 控制点坐标\n\n    var controlPoint = {\n      x: (line1EndPoint.x - startPoint.x) * (endPoint.y - startPoint.y) / (line1EndPoint.y - startPoint.y) + startPoint.x,\n      y: endPoint.y\n    };\n    var path = [['M', startPoint.x, startPoint.y], ['L', line1EndPoint.x, line1EndPoint.y], ['Q', controlPoint.x, controlPoint.y, line2StartPoint.x, line2StartPoint.y], ['L', endPoint.x, endPoint.y]];\n\n    if (Ydiff === 0) {\n      path = [['M', startPoint.x, startPoint.y], ['L', endPoint.x, endPoint.y]];\n    }\n\n    var _ref = cfg || {},\n        style = _ref.style;\n\n    var line = group.addShape('path', {\n      attrs: {\n        path: path,\n        stroke: style.stroke || cfg.colorMap && cfg.colorMap[cfg.dataType] ? cfg.colorMap[cfg.dataType] : '#5B8FF9',\n        lineWidth: style.lineWidth || 1.2,\n        endArrow: false\n      },\n      name: 'path-shape'\n    });\n    var labelLeftOffset = 0;\n    var labelTopOffset = 8; // label\n\n    var labelTextShape;\n\n    if (cfg.label) {\n      labelTextShape = group.addShape('text', {\n        attrs: {\n          text: cfg.label,\n          x: line2StartPoint.x + labelLeftOffset,\n          y: endPoint.y - labelTopOffset - 2,\n          fontSize: 14,\n          textAlign: 'left',\n          textBaseline: 'middle',\n          fill: '#000'\n        },\n        name: 'text-shape-label'\n      });\n    } // dataType\n\n\n    if (cfg.dataType) {\n      var labelTextShapeBBox = labelTextShape ? labelTextShape.getBBox() : {\n        height: 0\n      };\n      group.addShape('text', {\n        attrs: {\n          text: cfg.dataType,\n          x: line2StartPoint.x + labelLeftOffset,\n          y: endPoint.y - labelTopOffset - labelTextShapeBBox.height - 2,\n          fontSize: 10,\n          textAlign: 'left',\n          textBaseline: 'middle',\n          fill: '#000'\n        },\n        name: 'text-shape-type'\n      });\n    } // subLabel\n\n\n    if (cfg.subLabel) {\n      group.addShape('text', {\n        attrs: {\n          text: cfg.subLabel,\n          x: line2StartPoint.x + labelLeftOffset,\n          y: endPoint.y + labelTopOffset + 4,\n          fontSize: 12,\n          fontWeight: 300,\n          textAlign: 'left',\n          textBaseline: 'middle',\n          fill: '#000'\n        },\n        name: 'text-shape-sub-label'\n      });\n    }\n\n    return line;\n  },\n  update: undefined\n}, 'single-edge');\nG6.registerEdge('flow-line', {\n  draw: function draw(cfg, group) {\n    var startPoint = cfg.startPoint;\n    var endPoint = cfg.endPoint;\n    var _cfg$style = cfg.style,\n        style = _cfg$style === void 0 ? {} : _cfg$style;\n    var shape = group.addShape('path', {\n      attrs: {\n        stroke: style.stroke,\n        endArrow: style.endArrow,\n        path: [['M', startPoint.x, startPoint.y], ['L', startPoint.x, (startPoint.y + endPoint.y) / 2], ['L', endPoint.x, (startPoint.y + endPoint.y) / 2], ['L', endPoint.x, endPoint.y]]\n      }\n    });\n    return shape;\n  }\n});","map":{"version":3,"sources":["C:/Users/vietn/Desktop/AppEnegry2020/frontend/node_modules/@ant-design/charts/es/graph/customItems.js"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","G6","registerNode","draw","cfg","group","color","size","style","assign","radius","fill","stroke","r","shape","addShape","attrs","x","y","width","height","name","draggable","title","label","titleTextShape","labelStyle","labelCfg","titleStyle","textBaseline","text","titleBox","getBBox","titleRectShape","toFront","markerShape","children","cursor","symbol","collapsed","Marker","expand","collapse","lineWidth","description","undefined","titleRectBox","descriptionTextShape","_markerShape","desTextShapeBBox","attr","update","drawShape","rect","getAnchorPoints","item","getContainer","get","node","circleLeft","circleRight","customIconNode","params","options","styles","getShapeStyle","_cfg$labelCfg","keyShape","img","leftIcon","enableEdit","registerEdge","startPoint","endPoint","Ydiff","slope","Math","abs","cpOffset","offset","line1EndPoint","line2StartPoint","controlPoint","path","_ref","line","colorMap","dataType","endArrow","labelLeftOffset","labelTopOffset","labelTextShape","fontSize","textAlign","labelTextShapeBBox","subLabel","fontWeight","_cfg$style"],"mappings":"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","sourcesContent":["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport G6 from '@antv/g6/es';\nG6.registerNode('card-node', {\n  draw: function draw(cfg, group) {\n    var color = cfg && cfg.color ? cfg.color : '#5B8FF9';\n    var size = cfg && cfg.size ? cfg.size : [100, 30];\n    if (typeof size === 'number') size = [size, size];\n    var style = cfg && cfg.style ? cfg.style : {};\n    style = Object.assign({\n      radius: 2,\n      fill: '#fff'\n    }, style);\n    color = style.stroke || '#5B8FF9';\n    var r = style.radius || 0;\n    var shape = group.addShape('rect', {\n      attrs: _objectSpread({\n        x: -size[0] / 2,\n        y: -size[1] / 2,\n        width: size[0],\n        height: size[1],\n        stroke: color\n      }, style),\n      name: 'main-box',\n      draggable: true\n    }); // title text\n\n    var title = cfg.title || cfg.label;\n    var titleTextShape;\n    var labelStyle = cfg && cfg.labelCfg && cfg.labelCfg.style ? cfg.labelCfg.style : {};\n\n    if (title) {\n      var titleStyle = Object.assign({\n        fill: '#fff'\n      }, labelStyle);\n      titleTextShape = group.addShape('text', {\n        attrs: _objectSpread(_objectSpread({\n          textBaseline: 'top',\n          x: -size[0] / 2 + 8,\n          y: -size[1] / 2 + 2,\n          // lineHeight: 20,\n          text: title\n        }, titleStyle), {}, {\n          fill: '#fff'\n        }),\n        name: 'title'\n      });\n    }\n\n    var titleBox = titleTextShape ? titleTextShape.getBBox() : {\n      height: size[1] / 2\n    }; // title rect\n\n    var titleRectShape = group.addShape('rect', {\n      attrs: {\n        x: -size[0] / 2,\n        y: -size[1] / 2,\n        width: size[0],\n        height: titleBox.height + 4,\n        fill: color,\n        radius: [r, r, 0, 0]\n      },\n      name: 'title-rect',\n      draggable: true\n    });\n    titleTextShape && titleTextShape.toFront(); // marker\n\n    var markerShape;\n\n    if (cfg.children) {\n      markerShape = group.addShape('marker', {\n        attrs: {\n          x: size[0] / 2,\n          y: 0,\n          r: 6,\n          cursor: 'pointer',\n          symbol: cfg.collapsed ? G6.Marker.expand : G6.Marker.collapse,\n          stroke: color,\n          lineWidth: 1,\n          fill: '#fff'\n        },\n        name: 'collapse-icon'\n      });\n    } // description\n\n\n    var description = cfg && cfg.description ? cfg.description : undefined;\n    var titleRectBox = titleRectShape.getBBox();\n    var descriptionTextShape;\n\n    if (description) {\n      descriptionTextShape = group.addShape('text', {\n        attrs: _objectSpread({\n          textBaseline: 'top',\n          x: -size[0] / 2 + 8,\n          y: -size[1] / 2 + titleRectBox.height + 8,\n          text: description\n        }, labelStyle),\n        name: \"description\"\n      });\n    }\n\n    if (descriptionTextShape) {\n      var _markerShape;\n\n      var desTextShapeBBox = descriptionTextShape.getBBox();\n      var height = titleRectBox.height + 16 + desTextShapeBBox.height;\n      var width = size[0] > desTextShapeBBox.width + 16 ? size[0] : desTextShapeBBox.width + 16;\n      shape.attr({\n        width: width,\n        height: height\n      });\n      titleRectShape === null || titleRectShape === void 0 ? void 0 : titleRectShape.attr('width', width);\n      (_markerShape = markerShape) === null || _markerShape === void 0 ? void 0 : _markerShape.attr({\n        x: width - size[0] / 2,\n        y: height / 2 - size[1] / 2\n      });\n    }\n\n    return shape;\n  },\n  update: undefined\n}, 'single-node');\nG6.registerNode('round-rect', {\n  drawShape: function drawShape(cfg, group) {\n    var color = cfg && cfg.color ? cfg.color : '#5B8FF9';\n    var size = cfg && cfg.size ? cfg.size : [100, 30];\n    if (typeof size === 'number') size = [size, size];\n    var style = cfg && cfg.style ? cfg.style : {};\n    if (style.stroke) color = style.stroke;\n    var fill = style && style.fill ? style.fill : '#fff';\n    style = Object.assign({\n      width: size[0],\n      height: size[1],\n      radius: size[1] / 2,\n      fill: fill,\n      lineWidth: 1.2,\n      stroke: color\n    }, style);\n    var rect = group.addShape('rect', {\n      attrs: _objectSpread({\n        x: -size[0] / 2,\n        y: -size[1] / 2\n      }, style),\n      name: 'rect-shape'\n    }); // circles for anchor points\n\n    group.addShape('circle', {\n      attrs: {\n        x: -size[0] / 2,\n        y: 0,\n        r: 3,\n        fill: style.stroke\n      },\n      name: 'circle-shape'\n    });\n    group.addShape('circle', {\n      attrs: {\n        x: size[0] / 2,\n        y: 0,\n        r: 3,\n        fill: style.stroke\n      },\n      name: 'circle-shape2'\n    });\n    return rect;\n  },\n  getAnchorPoints: function getAnchorPoints() {\n    return [[0, 0.5], [1, 0.5]];\n  },\n  update: function update(cfg, item) {\n    var group = item.getContainer();\n    var children = group.get('children');\n    var node = children[0];\n    var circleLeft = children[1];\n    var circleRight = children[2];\n    var stroke = cfg.style && cfg.style.stroke ? cfg.style.stroke : '#5B8FF9';\n\n    if (stroke) {\n      node.attr('stroke', stroke);\n      circleLeft.attr('fill', stroke);\n      circleRight.attr('fill', stroke);\n    }\n  }\n}, 'single-node');\nexport var customIconNode = function customIconNode(params) {\n  G6.registerNode('icon-node', {\n    options: {\n      size: [60, 20],\n      stroke: '#91d5ff',\n      fill: '#91d5ff'\n    },\n    draw: function draw(cfg, group) {\n      var styles = this.getShapeStyle(cfg);\n      var _cfg$labelCfg = cfg.labelCfg,\n          labelCfg = _cfg$labelCfg === void 0 ? {} : _cfg$labelCfg;\n      var keyShape = group.addShape('rect', {\n        attrs: _objectSpread(_objectSpread({}, styles), {}, {\n          x: 0,\n          y: 0\n        })\n      });\n      /**\n       * leftIcon 格式如下：\n       *  {\n       *    style: ShapeStyle;\n       *    img: ''\n       *  }\n       */\n\n      var style = {\n        fill: '#e6fffb'\n      };\n      var img = 'https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png';\n\n      if (cfg.leftIcon) {\n        style = Object.assign({}, style, cfg.leftIcon.style);\n        img = cfg.leftIcon.img;\n      }\n\n      group.addShape('rect', {\n        attrs: _objectSpread({\n          x: 1,\n          y: 1,\n          width: 38,\n          height: styles.height - 2\n        }, style)\n      });\n      group.addShape('image', {\n        attrs: {\n          x: 8,\n          y: 8,\n          width: 24,\n          height: 24,\n          img: img\n        },\n        name: 'image-shape'\n      });\n\n      if (params.enableEdit) {\n        group.addShape('marker', {\n          attrs: {\n            x: styles.width / 3,\n            y: styles.height + 6,\n            r: 6,\n            stroke: '#73d13d',\n            cursor: 'pointer',\n            symbol: G6.Marker.expand\n          },\n          name: 'add-item'\n        });\n        group.addShape('marker', {\n          attrs: {\n            x: styles.width * 2 / 3,\n            y: styles.height + 6,\n            r: 6,\n            stroke: '#ff4d4f',\n            cursor: 'pointer',\n            symbol: G6.Marker.collapse\n          },\n          name: 'remove-item'\n        });\n      }\n\n      if (cfg.label) {\n        group.addShape('text', {\n          attrs: _objectSpread(_objectSpread({}, labelCfg.style), {}, {\n            text: cfg.label,\n            x: styles.width / 2,\n            y: styles.height / 1.5\n          })\n        });\n      }\n\n      return keyShape;\n    }\n  }, 'rect');\n};\nG6.registerEdge('fund-polyline', {\n  draw: function draw(cfg, group) {\n    var startPoint = cfg.startPoint;\n    var endPoint = cfg.endPoint;\n    var Ydiff = endPoint.y - startPoint.y;\n    var slope = Ydiff !== 0 ? 500 / Math.abs(Ydiff) : 0;\n    var cpOffset = 16;\n    var offset = Ydiff < 0 ? cpOffset : -cpOffset;\n    var line1EndPoint = {\n      x: startPoint.x + slope,\n      y: endPoint.y + offset\n    };\n    var line2StartPoint = {\n      x: line1EndPoint.x + cpOffset,\n      y: endPoint.y\n    }; // 控制点坐标\n\n    var controlPoint = {\n      x: (line1EndPoint.x - startPoint.x) * (endPoint.y - startPoint.y) / (line1EndPoint.y - startPoint.y) + startPoint.x,\n      y: endPoint.y\n    };\n    var path = [['M', startPoint.x, startPoint.y], ['L', line1EndPoint.x, line1EndPoint.y], ['Q', controlPoint.x, controlPoint.y, line2StartPoint.x, line2StartPoint.y], ['L', endPoint.x, endPoint.y]];\n\n    if (Ydiff === 0) {\n      path = [['M', startPoint.x, startPoint.y], ['L', endPoint.x, endPoint.y]];\n    }\n\n    var _ref = cfg || {},\n        style = _ref.style;\n\n    var line = group.addShape('path', {\n      attrs: {\n        path: path,\n        stroke: style.stroke || cfg.colorMap && cfg.colorMap[cfg.dataType] ? cfg.colorMap[cfg.dataType] : '#5B8FF9',\n        lineWidth: style.lineWidth || 1.2,\n        endArrow: false\n      },\n      name: 'path-shape'\n    });\n    var labelLeftOffset = 0;\n    var labelTopOffset = 8; // label\n\n    var labelTextShape;\n\n    if (cfg.label) {\n      labelTextShape = group.addShape('text', {\n        attrs: {\n          text: cfg.label,\n          x: line2StartPoint.x + labelLeftOffset,\n          y: endPoint.y - labelTopOffset - 2,\n          fontSize: 14,\n          textAlign: 'left',\n          textBaseline: 'middle',\n          fill: '#000'\n        },\n        name: 'text-shape-label'\n      });\n    } // dataType\n\n\n    if (cfg.dataType) {\n      var labelTextShapeBBox = labelTextShape ? labelTextShape.getBBox() : {\n        height: 0\n      };\n      group.addShape('text', {\n        attrs: {\n          text: cfg.dataType,\n          x: line2StartPoint.x + labelLeftOffset,\n          y: endPoint.y - labelTopOffset - labelTextShapeBBox.height - 2,\n          fontSize: 10,\n          textAlign: 'left',\n          textBaseline: 'middle',\n          fill: '#000'\n        },\n        name: 'text-shape-type'\n      });\n    } // subLabel\n\n\n    if (cfg.subLabel) {\n      group.addShape('text', {\n        attrs: {\n          text: cfg.subLabel,\n          x: line2StartPoint.x + labelLeftOffset,\n          y: endPoint.y + labelTopOffset + 4,\n          fontSize: 12,\n          fontWeight: 300,\n          textAlign: 'left',\n          textBaseline: 'middle',\n          fill: '#000'\n        },\n        name: 'text-shape-sub-label'\n      });\n    }\n\n    return line;\n  },\n  update: undefined\n}, 'single-edge');\nG6.registerEdge('flow-line', {\n  draw: function draw(cfg, group) {\n    var startPoint = cfg.startPoint;\n    var endPoint = cfg.endPoint;\n    var _cfg$style = cfg.style,\n        style = _cfg$style === void 0 ? {} : _cfg$style;\n    var shape = group.addShape('path', {\n      attrs: {\n        stroke: style.stroke,\n        endArrow: style.endArrow,\n        path: [['M', startPoint.x, startPoint.y], ['L', startPoint.x, (startPoint.y + endPoint.y) / 2], ['L', endPoint.x, (startPoint.y + endPoint.y) / 2], ['L', endPoint.x, endPoint.y]]\n      }\n    });\n    return shape;\n  }\n});"]},"metadata":{},"sourceType":"module"}