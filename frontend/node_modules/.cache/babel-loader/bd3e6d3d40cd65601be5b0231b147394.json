{"ast":null,"code":"import { __extends } from \"tslib\";\nimport ShapeNodes from '../node/shape-nodes';\nimport Responsive from '../responsive';\nimport ApplyResponsive from './base';\nimport { each } from '@antv/util';\n\nvar ApplyResponsiveLabel =\n/** @class */\nfunction (_super) {\n  __extends(ApplyResponsiveLabel, _super);\n\n  function ApplyResponsiveLabel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ApplyResponsiveLabel.prototype.shouldApply = function () {\n    if (!this.responsiveTheme.label || !this.responsiveTheme.label[this.type]) {\n      return false;\n    }\n\n    return true;\n  };\n\n  ApplyResponsiveLabel.prototype.apply = function () {\n    var labelShapesContainer = this.plot.view.geometries[0].labelsContainer.get('children');\n    var labelShapes = [];\n    each(labelShapesContainer, function (c) {\n      labelShapes = labelShapes.concat(c.findAllByName('label'));\n    });\n    var nodes = new ShapeNodes({\n      shapes: labelShapes\n    });\n    var _a = this.responsiveTheme.label[this.type],\n        constraints = _a.constraints,\n        rules = _a.rules;\n    new Responsive({\n      nodes: nodes,\n      constraints: constraints,\n      rules: rules,\n      plot: this.plot,\n      region: this.plot.view.coordinateBBox\n    });\n  };\n\n  ApplyResponsiveLabel.prototype.getType = function () {\n    return null;\n  };\n\n  return ApplyResponsiveLabel;\n}(ApplyResponsive);\n\nexport default ApplyResponsiveLabel;","map":{"version":3,"sources":["../../../../src/util/responsive/apply/label.ts"],"names":[],"mappings":";AAAA,OAAO,UAAP,MAAuB,qBAAvB;AACA,OAAO,UAAP,MAAuB,eAAvB;AACA,OAAO,eAAP,MAA4B,QAA5B;AACA,SAAS,IAAT,QAAqB,YAArB;;AAEA,IAAA,oBAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAAkD,EAAA,SAAA,CAAA,oBAAA,EAAA,MAAA,CAAA;;AAAlD,WAAA,oBAAA,GAAA;;AA8BC;;AA7BW,EAAA,oBAAA,CAAA,SAAA,CAAA,WAAA,GAAV,YAAA;AACE,QAAI,CAAC,KAAK,eAAL,CAAqB,KAAtB,IAA+B,CAAC,KAAK,eAAL,CAAqB,KAArB,CAA2B,KAAK,IAAhC,CAApC,EAA2E;AACzE,aAAO,KAAP;AACD;;AACD,WAAO,IAAP;AACD,GALS;;AAOA,EAAA,oBAAA,CAAA,SAAA,CAAA,KAAA,GAAV,YAAA;AACE,QAAM,oBAAoB,GAAG,KAAK,IAAL,CAAU,IAAV,CAAe,UAAf,CAA0B,CAA1B,EAA6B,eAA7B,CAA6C,GAA7C,CAAiD,UAAjD,CAA7B;AACA,QAAI,WAAW,GAAG,EAAlB;AACA,IAAA,IAAI,CAAC,oBAAD,EAAuB,UAAC,CAAD,EAAE;AAC3B,MAAA,WAAW,GAAG,WAAW,CAAC,MAAZ,CAAmB,CAAC,CAAC,aAAF,CAAgB,OAAhB,CAAnB,CAAd;AACD,KAFG,CAAJ;AAGA,QAAM,KAAK,GAAG,IAAI,UAAJ,CAAe;AAC3B,MAAA,MAAM,EAAE;AADmB,KAAf,CAAd;AAGM,QAAA,EAAA,GAAyB,KAAK,eAAL,CAAqB,KAArB,CAA2B,KAAK,IAAhC,CAAzB;AAAA,QAAE,WAAW,GAAA,EAAA,CAAA,WAAb;AAAA,QAAe,KAAK,GAAA,EAAA,CAAA,KAApB;AACN,QAAI,UAAJ,CAAe;AACb,MAAA,KAAK,EAAA,KADQ;AAEb,MAAA,WAAW,EAAA,WAFE;AAGb,MAAA,KAAK,EAAA,KAHQ;AAIb,MAAA,IAAI,EAAE,KAAK,IAJE;AAKb,MAAA,MAAM,EAAE,KAAK,IAAL,CAAU,IAAV,CAAe;AALV,KAAf;AAOD,GAjBS;;AAmBA,EAAA,oBAAA,CAAA,SAAA,CAAA,OAAA,GAAV,YAAA;AACE,WAAO,IAAP;AACD,GAFS;;AAGZ,SAAA,oBAAA;AAAC,CA9BD,CAAkD,eAAlD,CAAA","sourcesContent":["import ShapeNodes from '../node/shape-nodes';\nimport Responsive from '../responsive';\nimport ApplyResponsive from './base';\nimport { each } from '@antv/util';\n\nexport default class ApplyResponsiveLabel extends ApplyResponsive {\n  protected shouldApply() {\n    if (!this.responsiveTheme.label || !this.responsiveTheme.label[this.type]) {\n      return false;\n    }\n    return true;\n  }\n\n  protected apply() {\n    const labelShapesContainer = this.plot.view.geometries[0].labelsContainer.get('children');\n    let labelShapes = [];\n    each(labelShapesContainer, (c) => {\n      labelShapes = labelShapes.concat(c.findAllByName('label'));\n    });\n    const nodes = new ShapeNodes({\n      shapes: labelShapes,\n    });\n    const { constraints, rules } = this.responsiveTheme.label[this.type];\n    new Responsive({\n      nodes,\n      constraints,\n      rules,\n      plot: this.plot,\n      region: this.plot.view.coordinateBBox,\n    });\n  }\n\n  protected getType() {\n    return null;\n  }\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}