{"ast":null,"code":"import { chartBaseTheme } from '@progress/kendo-charts';\nvar template = \"\\n    <div class=\\\"k-var--gauge-pointer\\\"></div>\\n    <div class=\\\"k-var--gauge-track\\\"></div>\\n    <div class=\\\"k-var--normal-text-color\\\"></div>\\n\";\n/**\n * @hidden\n */\n\nvar ThemeService =\n/** @class */\nfunction () {\n  function ThemeService(store) {\n    this.store = store;\n  }\n\n  ThemeService.prototype.setStyle = function (field, value) {\n    this.store.dispatch({\n      type: 'set',\n      payload: {\n        field: field,\n        value: value\n      }\n    });\n  };\n\n  ThemeService.prototype.setColors = function () {\n    this.mapColor('pointer.color', 'gauge-pointer');\n    this.mapColor('scale.rangePlaceholderColor', 'gauge-track');\n    this.mapColor('scale.labels.color', 'normal-text-color');\n    this.mapColor('scale.minorTicks.color', 'normal-text-color');\n    this.mapColor('scale.majorTicks.color', 'normal-text-color');\n    this.mapColor('scale.line.color', 'normal-text-color');\n  };\n\n  ThemeService.prototype.mapColor = function (key, varName) {\n    this.setStyle(key, this.queryStyle(varName).backgroundColor);\n  };\n\n  ThemeService.prototype.queryStyle = function (varName) {\n    var element = this.element;\n    return window.getComputedStyle(element.querySelector(\".k-var--\" + varName));\n  };\n\n  return ThemeService;\n}();\n\nvar loadTheme = function (store, done) {\n  var service = new ThemeService(store);\n\n  if (typeof document === 'undefined') {\n    store.dispatch({\n      type: 'push',\n      payload: chartBaseTheme()\n    });\n    return;\n  }\n\n  var container = service.element = document.createElement('div');\n  container.style.display = 'none';\n  container.innerHTML = template;\n  document.body.appendChild(container);\n\n  try {\n    store.dispatch({\n      type: 'push',\n      payload: chartBaseTheme()\n    });\n    service.setColors();\n  } finally {\n    document.body.removeChild(service.element);\n    delete service.element;\n    done();\n  }\n};\n\nexport { loadTheme };","map":{"version":3,"sources":["../../../src/theming/theme-service.ts"],"names":[],"mappings":"AAAA,SAAS,cAAT,QAA+B,wBAA/B;AAGA,IAAM,QAAQ,GAAG,sJAAjB;AAMA;;;;AAGA,IAAA,YAAA;AAAA;AAAA,YAAA;AAGI,WAAA,YAAA,CAAoB,KAApB,EAA8B;AAAV,SAAA,KAAA,GAAA,KAAA;AAAe;;AAE5B,EAAA,YAAA,CAAA,SAAA,CAAA,QAAA,GAAP,UAAgB,KAAhB,EAA+B,KAA/B,EAAyC;AACrC,SAAK,KAAL,CAAW,QAAX,CAAoB;AAAE,MAAA,IAAI,EAAE,KAAR;AAAe,MAAA,OAAO,EAAE;AAAE,QAAA,KAAK,EAAA,KAAP;AAAS,QAAA,KAAK,EAAA;AAAd;AAAxB,KAApB;AACH,GAFM;;AAIA,EAAA,YAAA,CAAA,SAAA,CAAA,SAAA,GAAP,YAAA;AACI,SAAK,QAAL,CAAc,eAAd,EAA+B,eAA/B;AACA,SAAK,QAAL,CAAc,6BAAd,EAA6C,aAA7C;AACA,SAAK,QAAL,CAAc,oBAAd,EAAoC,mBAApC;AACA,SAAK,QAAL,CAAc,wBAAd,EAAwC,mBAAxC;AACA,SAAK,QAAL,CAAc,wBAAd,EAAwC,mBAAxC;AACA,SAAK,QAAL,CAAc,kBAAd,EAAkC,mBAAlC;AACH,GAPM;;AASA,EAAA,YAAA,CAAA,SAAA,CAAA,QAAA,GAAP,UAAgB,GAAhB,EAA6B,OAA7B,EAA4C;AACxC,SAAK,QAAL,CAAc,GAAd,EAAmB,KAAK,UAAL,CAAgB,OAAhB,EAAyB,eAA5C;AACH,GAFM;;AAIA,EAAA,YAAA,CAAA,SAAA,CAAA,UAAA,GAAP,UAAkB,OAAlB,EAAiC;AAC7B,QAAM,OAAO,GAAG,KAAK,OAArB;AACA,WAAO,MAAM,CAAC,gBAAP,CAAwB,OAAO,CAAC,aAAR,CAAsB,aAAW,OAAjC,CAAxB,CAAP;AACH,GAHM;;AAIX,SAAA,YAAA;AAAC,CA1BD,EAAA;;AA4BA,IAAM,SAAS,GAAG,UAAC,KAAD,EAAe,IAAf,EAAwB;AACtC,MAAM,OAAO,GAAG,IAAI,YAAJ,CAAiB,KAAjB,CAAhB;;AAEA,MAAI,OAAO,QAAP,KAAoB,WAAxB,EAAqC;AACjC,IAAA,KAAK,CAAC,QAAN,CAAe;AAAE,MAAA,IAAI,EAAE,MAAR;AAAgB,MAAA,OAAO,EAAE,cAAc;AAAvC,KAAf;AACA;AACH;;AAED,MAAM,SAAS,GAAG,OAAO,CAAC,OAAR,GAAkB,QAAQ,CAAC,aAAT,CAAuB,KAAvB,CAApC;AACA,EAAA,SAAS,CAAC,KAAV,CAAgB,OAAhB,GAA0B,MAA1B;AACA,EAAA,SAAS,CAAC,SAAV,GAAsB,QAAtB;AACA,EAAA,QAAQ,CAAC,IAAT,CAAc,WAAd,CAA0B,SAA1B;;AAEA,MAAI;AACA,IAAA,KAAK,CAAC,QAAN,CAAe;AAAE,MAAA,IAAI,EAAE,MAAR;AAAgB,MAAA,OAAO,EAAE,cAAc;AAAvC,KAAf;AACA,IAAA,OAAO,CAAC,SAAR;AACH,GAHD,SAGU;AACN,IAAA,QAAQ,CAAC,IAAT,CAAc,WAAd,CAA0B,OAAO,CAAC,OAAlC;AACA,WAAO,OAAO,CAAC,OAAf;AACA,IAAA,IAAI;AACP;AACJ,CArBD;;AAuBA,SAAS,SAAT","sourceRoot":"","sourcesContent":["import { chartBaseTheme } from '@progress/kendo-charts';\nvar template = \"\\n    <div class=\\\"k-var--gauge-pointer\\\"></div>\\n    <div class=\\\"k-var--gauge-track\\\"></div>\\n    <div class=\\\"k-var--normal-text-color\\\"></div>\\n\";\n/**\n * @hidden\n */\nvar ThemeService = /** @class */ (function () {\n    function ThemeService(store) {\n        this.store = store;\n    }\n    ThemeService.prototype.setStyle = function (field, value) {\n        this.store.dispatch({ type: 'set', payload: { field: field, value: value } });\n    };\n    ThemeService.prototype.setColors = function () {\n        this.mapColor('pointer.color', 'gauge-pointer');\n        this.mapColor('scale.rangePlaceholderColor', 'gauge-track');\n        this.mapColor('scale.labels.color', 'normal-text-color');\n        this.mapColor('scale.minorTicks.color', 'normal-text-color');\n        this.mapColor('scale.majorTicks.color', 'normal-text-color');\n        this.mapColor('scale.line.color', 'normal-text-color');\n    };\n    ThemeService.prototype.mapColor = function (key, varName) {\n        this.setStyle(key, this.queryStyle(varName).backgroundColor);\n    };\n    ThemeService.prototype.queryStyle = function (varName) {\n        var element = this.element;\n        return window.getComputedStyle(element.querySelector(\".k-var--\" + varName));\n    };\n    return ThemeService;\n}());\nvar loadTheme = function (store, done) {\n    var service = new ThemeService(store);\n    if (typeof document === 'undefined') {\n        store.dispatch({ type: 'push', payload: chartBaseTheme() });\n        return;\n    }\n    var container = service.element = document.createElement('div');\n    container.style.display = 'none';\n    container.innerHTML = template;\n    document.body.appendChild(container);\n    try {\n        store.dispatch({ type: 'push', payload: chartBaseTheme() });\n        service.setColors();\n    }\n    finally {\n        document.body.removeChild(service.element);\n        delete service.element;\n        done();\n    }\n};\nexport { loadTheme };\n//# sourceMappingURL=theme-service.js.map"]},"metadata":{},"sourceType":"module"}