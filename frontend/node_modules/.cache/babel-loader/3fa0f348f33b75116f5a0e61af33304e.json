{"ast":null,"code":"import { __assign, __rest } from \"tslib\";\nimport { mix } from '@antv/util';\nimport Global from '../../global';\nimport Shape from '../shape'; // 五角星shape\n\nShape.registerNode('star', {\n  // 自定义节点时的配置\n  options: {\n    size: 60,\n    style: {\n      stroke: Global.defaultShapeStrokeColor,\n      fill: Global.defaultShapeFillColor,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    // 文本样式配置\n    labelCfg: {\n      style: {\n        fill: '#595959'\n      }\n    },\n    // 节点上左右上下四个方向上的链接circle配置\n    linkPoints: {\n      top: false,\n      right: false,\n      left: false,\n      leftBottom: false,\n      rightBottom: false,\n      // circle的大小\n      size: 10,\n      lineWidth: 1,\n      fill: '#fff',\n      stroke: '#72CC4A'\n    },\n    // 节点中icon配置\n    icon: {\n      // 是否显示icon，值为 false 则不渲染icon\n      show: false,\n      // icon的地址，字符串类型\n      img: 'https://gw.alipayobjects.com/zos/basement_prod/012bcf4f-423b-4922-8c24-32a89f8c41ce.svg',\n      width: 16,\n      height: 16\n    }\n  },\n  shapeType: 'star',\n  // 文本位置\n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var _a = this.getOptions(cfg).icon,\n        icon = _a === void 0 ? {} : _a;\n    var style = this.getShapeStyle(cfg);\n    var keyShape = group.addShape('path', {\n      attrs: style,\n      className: this.type + \"-keyShape\",\n      name: this.type + \"-keyShape\",\n      draggable: true\n    });\n    var w = icon.width,\n        h = icon.height,\n        show = icon.show;\n\n    if (show) {\n      var image = group.addShape('image', {\n        attrs: __assign({\n          x: -w / 2,\n          y: -h / 2\n        }, icon),\n        className: this.type + \"-icon\",\n        name: this.type + \"-icon\",\n        draggable: true\n      });\n    }\n\n    this.drawLinkPoints(cfg, group);\n    return keyShape;\n  },\n\n  /**\n   * 绘制节点上的LinkPoints\n   * @param {Object} cfg data数据配置项\n   * @param {Group} group Group实例\n   */\n  drawLinkPoints: function drawLinkPoints(cfg, group) {\n    var _a = this.getOptions(cfg).linkPoints,\n        linkPoints = _a === void 0 ? {} : _a;\n\n    var top = linkPoints.top,\n        left = linkPoints.left,\n        right = linkPoints.right,\n        leftBottom = linkPoints.leftBottom,\n        rightBottom = linkPoints.rightBottom,\n        markSize = linkPoints.size,\n        markR = linkPoints.r,\n        markStyle = __rest(linkPoints, [\"top\", \"left\", \"right\", \"leftBottom\", \"rightBottom\", \"size\", \"r\"]);\n\n    var size = this.getSize(cfg);\n    var outerR = size[0];\n\n    if (right) {\n      // right circle\n      // up down left right 四个方向的坐标均不相同\n      var x1 = Math.cos((18 + 72 * 0) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 0) / 180 * Math.PI) * outerR;\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right'\n      });\n    }\n\n    if (top) {\n      // up down left right 四个方向的坐标均不相同\n      var x1 = Math.cos((18 + 72 * 1) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 1) / 180 * Math.PI) * outerR; // top circle\n\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top'\n      });\n    }\n\n    if (left) {\n      // up down left right 四个方向的坐标均不相同\n      var x1 = Math.cos((18 + 72 * 2) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 2) / 180 * Math.PI) * outerR; // left circle\n\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left'\n      });\n    }\n\n    if (leftBottom) {\n      // up down left right 四个方向的坐标均不相同\n      var x1 = Math.cos((18 + 72 * 3) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 3) / 180 * Math.PI) * outerR; // left bottom circle\n\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-left-bottom',\n        name: 'link-point-left-bottom'\n      });\n    }\n\n    if (rightBottom) {\n      // up down left right 四个方向的坐标均不相同\n      var x1 = Math.cos((18 + 72 * 4) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 4) / 180 * Math.PI) * outerR; // left bottom circle\n\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-right-bottom',\n        name: 'link-point-right-bottom'\n      });\n    }\n  },\n  getPath: function getPath(cfg) {\n    var size = this.getSize(cfg);\n    var outerR = size[0];\n    var defaultInnerR = outerR * 3 / 8;\n    var innerR = cfg.innerR || defaultInnerR;\n    var path = [];\n\n    for (var i = 0; i < 5; i++) {\n      var x1 = Math.cos((18 + 72 * i) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * i) / 180 * Math.PI) * outerR;\n      var x2 = Math.cos((54 + 72 * i) / 180 * Math.PI) * innerR;\n      var y2 = Math.sin((54 + 72 * i) / 180 * Math.PI) * innerR;\n\n      if (i === 0) {\n        path.push(['M', x1, -y1]);\n      } else {\n        path.push(['L', x1, -y1]);\n      }\n\n      path.push(['L', x2, -y2]);\n    }\n\n    path.push(['Z']);\n    return path;\n  },\n\n  /**\n   * 获取节点的样式，供基于该节点自定义时使用\n   * @param {Object} cfg 节点数据模型\n   * @return {Object} 节点的样式\n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.getOptions(cfg).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // 如果设置了color，则覆盖原来默认的 stroke 属性。但 cfg 中但 stroke 属性优先级更高\n\n    var style = mix({}, defaultStyle, strokeStyle);\n    var path = this.getPath(cfg);\n\n    var styles = __assign({\n      path: path\n    }, style);\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var group = item.getContainer(); // 这里不传 cfg 参数是因为 cfg.style 需要最后覆盖样式\n\n    var defaultStyle = this.getOptions({}).style;\n    var path = this.getPath(cfg); // 下面这些属性需要覆盖默认样式与目前样式，但若在 cfg 中有指定则应该被 cfg 的相应配置覆盖。\n\n    var strokeStyle = {\n      stroke: cfg.color,\n      path: path\n    }; // 与 getShapeStyle 不同在于，update 时需要获取到当前的 style 进行融合。即新传入的配置项中没有涉及的属性，保留当前的配置。\n\n    var keyShape = item.get('keyShape');\n    var style = mix({}, defaultStyle, keyShape.attr(), strokeStyle);\n    style = mix(style, cfg.style);\n    this.updateShape(cfg, item, style, true);\n    this.updateLinkPoints(cfg, group);\n  },\n\n  /**\n   * 更新linkPoints\n   * @param {Object} cfg 节点数据配置项\n   * @param {Group} group Item所在的group\n   */\n  updateLinkPoints: function updateLinkPoints(cfg, group) {\n    var defaultLinkPoints = this.getOptions({}).linkPoints;\n    var markLeft = group.find(function (element) {\n      return element.get('className') === 'link-point-left';\n    });\n    var markRight = group.find(function (element) {\n      return element.get('className') === 'link-point-right';\n    });\n    var markTop = group.find(function (element) {\n      return element.get('className') === 'link-point-top';\n    });\n    var markLeftBottom = group.find(function (element) {\n      return element.get('className') === 'link-point-left-bottom';\n    });\n    var markRightBottom = group.find(function (element) {\n      return element.get('className') === 'link-point-right-bottom';\n    });\n    var currentLinkPoints = defaultLinkPoints;\n    var existLinkPoint = markLeft || markRight || markTop || markLeftBottom || markRightBottom;\n\n    if (existLinkPoint) {\n      currentLinkPoints = existLinkPoint.attr();\n    }\n\n    var linkPoints = mix({}, currentLinkPoints, cfg.linkPoints);\n    var markFill = linkPoints.fill,\n        markStroke = linkPoints.stroke,\n        borderWidth = linkPoints.lineWidth;\n    var markSize = linkPoints.size / 2;\n    if (!markSize) markSize = linkPoints.r;\n\n    var _a = cfg.linkPoints ? cfg.linkPoints : {\n      left: undefined,\n      right: undefined,\n      top: undefined,\n      leftBottom: undefined,\n      rightBottom: undefined\n    },\n        left = _a.left,\n        right = _a.right,\n        top = _a.top,\n        leftBottom = _a.leftBottom,\n        rightBottom = _a.rightBottom;\n\n    var size = this.getSize(cfg);\n    var outerR = size[0];\n    var styles = {\n      r: markSize,\n      fill: markFill,\n      stroke: markStroke,\n      lineWidth: borderWidth\n    };\n    var x = Math.cos((18 + 72 * 0) / 180 * Math.PI) * outerR;\n    var y = Math.sin((18 + 72 * 0) / 180 * Math.PI) * outerR;\n\n    if (markRight) {\n      if (!right && right !== undefined) {\n        markRight.remove();\n      } else {\n        markRight.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (right) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right',\n        isAnchorPoint: true\n      });\n    }\n\n    x = Math.cos((18 + 72 * 1) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 1) / 180 * Math.PI) * outerR;\n\n    if (markTop) {\n      if (!top && top !== undefined) {\n        markTop.remove();\n      } else {\n        markTop.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (top) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top',\n        isAnchorPoint: true\n      });\n    }\n\n    x = Math.cos((18 + 72 * 2) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 2) / 180 * Math.PI) * outerR;\n\n    if (markLeft) {\n      if (!left && left !== undefined) {\n        markLeft.remove();\n      } else {\n        markLeft.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (left) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left',\n        isAnchorPoint: true\n      });\n    }\n\n    x = Math.cos((18 + 72 * 3) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 3) / 180 * Math.PI) * outerR;\n\n    if (markLeftBottom) {\n      if (!leftBottom && leftBottom !== undefined) {\n        markLeftBottom.remove();\n      } else {\n        markLeftBottom.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (leftBottom) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-left-bottom',\n        name: 'link-point-left-bottom',\n        isAnchorPoint: true\n      });\n    }\n\n    x = Math.cos((18 + 72 * 4) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 4) / 180 * Math.PI) * outerR;\n\n    if (markRightBottom) {\n      if (!rightBottom && rightBottom !== undefined) {\n        markLeftBottom.remove();\n      } else {\n        markRightBottom.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (rightBottom) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-right-bottom',\n        name: 'link-point-right-bottom',\n        isAnchorPoint: true\n      });\n    }\n  }\n}, 'single-node');","map":{"version":3,"sources":["C:/Users/vietn/Desktop/AppEnegry2020/frontend/node_modules/@antv/g6/es/shape/nodes/star.js"],"names":["__assign","__rest","mix","Global","Shape","registerNode","options","size","style","stroke","defaultShapeStrokeColor","fill","defaultShapeFillColor","lineWidth","defaultNode","labelCfg","linkPoints","top","right","left","leftBottom","rightBottom","icon","show","img","width","height","shapeType","labelPosition","drawShape","cfg","group","_a","getOptions","getShapeStyle","keyShape","addShape","attrs","className","type","name","draggable","w","h","image","x","y","drawLinkPoints","markSize","markR","r","markStyle","getSize","outerR","x1","Math","cos","PI","y1","sin","getPath","defaultInnerR","innerR","path","i","x2","y2","push","defaultStyle","strokeStyle","color","styles","update","item","getContainer","get","attr","updateShape","updateLinkPoints","defaultLinkPoints","markLeft","find","element","markRight","markTop","markLeftBottom","markRightBottom","currentLinkPoints","existLinkPoint","markFill","markStroke","borderWidth","undefined","remove","isAnchorPoint"],"mappings":"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","sourcesContent":["import { __assign, __rest } from \"tslib\";\nimport { mix } from '@antv/util';\nimport Global from '../../global';\nimport Shape from '../shape'; // 五角星shape\n\nShape.registerNode('star', {\n  // 自定义节点时的配置\n  options: {\n    size: 60,\n    style: {\n      stroke: Global.defaultShapeStrokeColor,\n      fill: Global.defaultShapeFillColor,\n      lineWidth: Global.defaultNode.style.lineWidth\n    },\n    // 文本样式配置\n    labelCfg: {\n      style: {\n        fill: '#595959'\n      }\n    },\n    // 节点上左右上下四个方向上的链接circle配置\n    linkPoints: {\n      top: false,\n      right: false,\n      left: false,\n      leftBottom: false,\n      rightBottom: false,\n      // circle的大小\n      size: 10,\n      lineWidth: 1,\n      fill: '#fff',\n      stroke: '#72CC4A'\n    },\n    // 节点中icon配置\n    icon: {\n      // 是否显示icon，值为 false 则不渲染icon\n      show: false,\n      // icon的地址，字符串类型\n      img: 'https://gw.alipayobjects.com/zos/basement_prod/012bcf4f-423b-4922-8c24-32a89f8c41ce.svg',\n      width: 16,\n      height: 16\n    }\n  },\n  shapeType: 'star',\n  // 文本位置\n  labelPosition: 'center',\n  drawShape: function drawShape(cfg, group) {\n    var _a = this.getOptions(cfg).icon,\n        icon = _a === void 0 ? {} : _a;\n    var style = this.getShapeStyle(cfg);\n    var keyShape = group.addShape('path', {\n      attrs: style,\n      className: this.type + \"-keyShape\",\n      name: this.type + \"-keyShape\",\n      draggable: true\n    });\n    var w = icon.width,\n        h = icon.height,\n        show = icon.show;\n\n    if (show) {\n      var image = group.addShape('image', {\n        attrs: __assign({\n          x: -w / 2,\n          y: -h / 2\n        }, icon),\n        className: this.type + \"-icon\",\n        name: this.type + \"-icon\",\n        draggable: true\n      });\n    }\n\n    this.drawLinkPoints(cfg, group);\n    return keyShape;\n  },\n\n  /**\n   * 绘制节点上的LinkPoints\n   * @param {Object} cfg data数据配置项\n   * @param {Group} group Group实例\n   */\n  drawLinkPoints: function drawLinkPoints(cfg, group) {\n    var _a = this.getOptions(cfg).linkPoints,\n        linkPoints = _a === void 0 ? {} : _a;\n\n    var top = linkPoints.top,\n        left = linkPoints.left,\n        right = linkPoints.right,\n        leftBottom = linkPoints.leftBottom,\n        rightBottom = linkPoints.rightBottom,\n        markSize = linkPoints.size,\n        markR = linkPoints.r,\n        markStyle = __rest(linkPoints, [\"top\", \"left\", \"right\", \"leftBottom\", \"rightBottom\", \"size\", \"r\"]);\n\n    var size = this.getSize(cfg);\n    var outerR = size[0];\n\n    if (right) {\n      // right circle\n      // up down left right 四个方向的坐标均不相同\n      var x1 = Math.cos((18 + 72 * 0) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 0) / 180 * Math.PI) * outerR;\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right'\n      });\n    }\n\n    if (top) {\n      // up down left right 四个方向的坐标均不相同\n      var x1 = Math.cos((18 + 72 * 1) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 1) / 180 * Math.PI) * outerR; // top circle\n\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top'\n      });\n    }\n\n    if (left) {\n      // up down left right 四个方向的坐标均不相同\n      var x1 = Math.cos((18 + 72 * 2) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 2) / 180 * Math.PI) * outerR; // left circle\n\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left'\n      });\n    }\n\n    if (leftBottom) {\n      // up down left right 四个方向的坐标均不相同\n      var x1 = Math.cos((18 + 72 * 3) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 3) / 180 * Math.PI) * outerR; // left bottom circle\n\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-left-bottom',\n        name: 'link-point-left-bottom'\n      });\n    }\n\n    if (rightBottom) {\n      // up down left right 四个方向的坐标均不相同\n      var x1 = Math.cos((18 + 72 * 4) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * 4) / 180 * Math.PI) * outerR; // left bottom circle\n\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, markStyle), {\n          x: x1,\n          y: -y1,\n          r: markSize / 2 || markR || 5\n        }),\n        className: 'link-point-right-bottom',\n        name: 'link-point-right-bottom'\n      });\n    }\n  },\n  getPath: function getPath(cfg) {\n    var size = this.getSize(cfg);\n    var outerR = size[0];\n    var defaultInnerR = outerR * 3 / 8;\n    var innerR = cfg.innerR || defaultInnerR;\n    var path = [];\n\n    for (var i = 0; i < 5; i++) {\n      var x1 = Math.cos((18 + 72 * i) / 180 * Math.PI) * outerR;\n      var y1 = Math.sin((18 + 72 * i) / 180 * Math.PI) * outerR;\n      var x2 = Math.cos((54 + 72 * i) / 180 * Math.PI) * innerR;\n      var y2 = Math.sin((54 + 72 * i) / 180 * Math.PI) * innerR;\n\n      if (i === 0) {\n        path.push(['M', x1, -y1]);\n      } else {\n        path.push(['L', x1, -y1]);\n      }\n\n      path.push(['L', x2, -y2]);\n    }\n\n    path.push(['Z']);\n    return path;\n  },\n\n  /**\n   * 获取节点的样式，供基于该节点自定义时使用\n   * @param {Object} cfg 节点数据模型\n   * @return {Object} 节点的样式\n   */\n  getShapeStyle: function getShapeStyle(cfg) {\n    var defaultStyle = this.getOptions(cfg).style;\n    var strokeStyle = {\n      stroke: cfg.color\n    }; // 如果设置了color，则覆盖原来默认的 stroke 属性。但 cfg 中但 stroke 属性优先级更高\n\n    var style = mix({}, defaultStyle, strokeStyle);\n    var path = this.getPath(cfg);\n\n    var styles = __assign({\n      path: path\n    }, style);\n\n    return styles;\n  },\n  update: function update(cfg, item) {\n    var group = item.getContainer(); // 这里不传 cfg 参数是因为 cfg.style 需要最后覆盖样式\n\n    var defaultStyle = this.getOptions({}).style;\n    var path = this.getPath(cfg); // 下面这些属性需要覆盖默认样式与目前样式，但若在 cfg 中有指定则应该被 cfg 的相应配置覆盖。\n\n    var strokeStyle = {\n      stroke: cfg.color,\n      path: path\n    }; // 与 getShapeStyle 不同在于，update 时需要获取到当前的 style 进行融合。即新传入的配置项中没有涉及的属性，保留当前的配置。\n\n    var keyShape = item.get('keyShape');\n    var style = mix({}, defaultStyle, keyShape.attr(), strokeStyle);\n    style = mix(style, cfg.style);\n    this.updateShape(cfg, item, style, true);\n    this.updateLinkPoints(cfg, group);\n  },\n\n  /**\n   * 更新linkPoints\n   * @param {Object} cfg 节点数据配置项\n   * @param {Group} group Item所在的group\n   */\n  updateLinkPoints: function updateLinkPoints(cfg, group) {\n    var defaultLinkPoints = this.getOptions({}).linkPoints;\n    var markLeft = group.find(function (element) {\n      return element.get('className') === 'link-point-left';\n    });\n    var markRight = group.find(function (element) {\n      return element.get('className') === 'link-point-right';\n    });\n    var markTop = group.find(function (element) {\n      return element.get('className') === 'link-point-top';\n    });\n    var markLeftBottom = group.find(function (element) {\n      return element.get('className') === 'link-point-left-bottom';\n    });\n    var markRightBottom = group.find(function (element) {\n      return element.get('className') === 'link-point-right-bottom';\n    });\n    var currentLinkPoints = defaultLinkPoints;\n    var existLinkPoint = markLeft || markRight || markTop || markLeftBottom || markRightBottom;\n\n    if (existLinkPoint) {\n      currentLinkPoints = existLinkPoint.attr();\n    }\n\n    var linkPoints = mix({}, currentLinkPoints, cfg.linkPoints);\n    var markFill = linkPoints.fill,\n        markStroke = linkPoints.stroke,\n        borderWidth = linkPoints.lineWidth;\n    var markSize = linkPoints.size / 2;\n    if (!markSize) markSize = linkPoints.r;\n\n    var _a = cfg.linkPoints ? cfg.linkPoints : {\n      left: undefined,\n      right: undefined,\n      top: undefined,\n      leftBottom: undefined,\n      rightBottom: undefined\n    },\n        left = _a.left,\n        right = _a.right,\n        top = _a.top,\n        leftBottom = _a.leftBottom,\n        rightBottom = _a.rightBottom;\n\n    var size = this.getSize(cfg);\n    var outerR = size[0];\n    var styles = {\n      r: markSize,\n      fill: markFill,\n      stroke: markStroke,\n      lineWidth: borderWidth\n    };\n    var x = Math.cos((18 + 72 * 0) / 180 * Math.PI) * outerR;\n    var y = Math.sin((18 + 72 * 0) / 180 * Math.PI) * outerR;\n\n    if (markRight) {\n      if (!right && right !== undefined) {\n        markRight.remove();\n      } else {\n        markRight.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (right) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-right',\n        name: 'link-point-right',\n        isAnchorPoint: true\n      });\n    }\n\n    x = Math.cos((18 + 72 * 1) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 1) / 180 * Math.PI) * outerR;\n\n    if (markTop) {\n      if (!top && top !== undefined) {\n        markTop.remove();\n      } else {\n        markTop.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (top) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-top',\n        name: 'link-point-top',\n        isAnchorPoint: true\n      });\n    }\n\n    x = Math.cos((18 + 72 * 2) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 2) / 180 * Math.PI) * outerR;\n\n    if (markLeft) {\n      if (!left && left !== undefined) {\n        markLeft.remove();\n      } else {\n        markLeft.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (left) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-left',\n        name: 'link-point-left',\n        isAnchorPoint: true\n      });\n    }\n\n    x = Math.cos((18 + 72 * 3) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 3) / 180 * Math.PI) * outerR;\n\n    if (markLeftBottom) {\n      if (!leftBottom && leftBottom !== undefined) {\n        markLeftBottom.remove();\n      } else {\n        markLeftBottom.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (leftBottom) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-left-bottom',\n        name: 'link-point-left-bottom',\n        isAnchorPoint: true\n      });\n    }\n\n    x = Math.cos((18 + 72 * 4) / 180 * Math.PI) * outerR;\n    y = Math.sin((18 + 72 * 4) / 180 * Math.PI) * outerR;\n\n    if (markRightBottom) {\n      if (!rightBottom && rightBottom !== undefined) {\n        markLeftBottom.remove();\n      } else {\n        markRightBottom.attr(__assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }));\n      }\n    } else if (rightBottom) {\n      group.addShape('circle', {\n        attrs: __assign(__assign({}, styles), {\n          x: x,\n          y: -y\n        }),\n        className: 'link-point-right-bottom',\n        name: 'link-point-right-bottom',\n        isAnchorPoint: true\n      });\n    }\n  }\n}, 'single-node');"]},"metadata":{},"sourceType":"module"}