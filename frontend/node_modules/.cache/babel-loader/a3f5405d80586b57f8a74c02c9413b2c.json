{"ast":null,"code":"export default function textAbbreviate(shape, option) {\n  var abbreviateBy = option.abbreviateBy ? option.abbreviateBy : 'end';\n  var text = shape.attr('text');\n  var abbravateText;\n\n  if (abbreviateBy === 'end') {\n    abbravateText = text[0] + \"...\";\n  }\n\n  if (abbreviateBy === 'start') {\n    abbravateText = \"...\" + text[text.length - 1];\n  }\n\n  if (abbreviateBy === 'middle') {\n    abbravateText = text[0] + \"...\" + text[text.length - 1];\n  }\n\n  shape.resetMatrix();\n  shape.attr({\n    text: abbravateText,\n    textAlign: 'center',\n    textBaseline: 'top'\n  });\n}","map":{"version":3,"sources":["../../../../src/util/responsive/rules/text-abbreviate.ts"],"names":[],"mappings":"AAKA,eAAc,SAAU,cAAV,CAAyB,KAAzB,EAAwC,MAAxC,EAAiE;AAC7E,MAAM,YAAY,GAAG,MAAM,CAAC,YAAP,GAAsB,MAAM,CAAC,YAA7B,GAA4C,KAAjE;AACA,MAAM,IAAI,GAAG,KAAK,CAAC,IAAN,CAAW,MAAX,CAAb;AACA,MAAI,aAAJ;;AACA,MAAI,YAAY,KAAK,KAArB,EAA4B;AAC1B,IAAA,aAAa,GAAM,IAAI,CAAC,CAAD,CAAJ,GAAO,KAA1B;AACD;;AACD,MAAI,YAAY,KAAK,OAArB,EAA8B;AAC5B,IAAA,aAAa,GAAG,QAAM,IAAI,CAAC,IAAI,CAAC,MAAL,GAAc,CAAf,CAA1B;AACD;;AACD,MAAI,YAAY,KAAK,QAArB,EAA+B;AAC7B,IAAA,aAAa,GAAM,IAAI,CAAC,CAAD,CAAJ,GAAO,KAAP,GAAa,IAAI,CAAC,IAAI,CAAC,MAAL,GAAc,CAAf,CAApC;AACD;;AACD,EAAA,KAAK,CAAC,WAAN;AACA,EAAA,KAAK,CAAC,IAAN,CAAW;AACT,IAAA,IAAI,EAAE,aADG;AAET,IAAA,SAAS,EAAE,QAFF;AAGT,IAAA,YAAY,EAAE;AAHL,GAAX;AAKD","sourcesContent":["import { IShape } from '@antv/g-base';\n\ninterface TextAbbreviateCfg {\n  abbreviateBy?: 'start' | 'middle' | 'end';\n}\nexport default function textAbbreviate(shape: IShape, option: TextAbbreviateCfg) {\n  const abbreviateBy = option.abbreviateBy ? option.abbreviateBy : 'end';\n  const text = shape.attr('text');\n  let abbravateText;\n  if (abbreviateBy === 'end') {\n    abbravateText = `${text[0]}...`;\n  }\n  if (abbreviateBy === 'start') {\n    abbravateText = `...${text[text.length - 1]}`;\n  }\n  if (abbreviateBy === 'middle') {\n    abbravateText = `${text[0]}...${text[text.length - 1]}`;\n  }\n  shape.resetMatrix();\n  shape.attr({\n    text: abbravateText,\n    textAlign: 'center',\n    textBaseline: 'top',\n  });\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}