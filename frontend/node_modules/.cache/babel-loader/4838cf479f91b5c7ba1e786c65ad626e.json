{"ast":null,"code":"import { __extends } from \"tslib\";\nimport { reduce, size } from '@antv/util';\nimport LineLabel from '../../../line/component/label/line-label';\n/**\n * 复用扎线图的 label，并修改取值方式\n */\n\nvar AreaLineLabel =\n/** @class */\nfunction (_super) {\n  __extends(AreaLineLabel, _super);\n\n  function AreaLineLabel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  AreaLineLabel.prototype.getShapeInfo = function (shape) {\n    var originPoints = shape.get('origin').points;\n    var lastPoint = originPoints[originPoints.length - 1];\n    var color = shape.attr('stroke');\n    var stackField = this.plot.options.stackField;\n    var name = shape.get('origin').data[0][stackField];\n    var y = reduce(lastPoint.y, function (r, a) {\n      return r + a;\n    }, 0) / size(lastPoint.y);\n    return {\n      x: lastPoint.x,\n      y: y,\n      color: color,\n      name: name\n    };\n  };\n\n  return AreaLineLabel;\n}(LineLabel);\n\nexport default AreaLineLabel;","map":{"version":3,"sources":["../../../../../src/plots/stacked-area/component/label/line-label.ts"],"names":[],"mappings":";AAAA,SAAS,MAAT,EAAiB,IAAjB,QAA6B,YAA7B;AACA,OAAO,SAAP,MAAsB,0CAAtB;AAEA;;;;AAGA,IAAA,aAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAA2C,EAAA,SAAA,CAAA,aAAA,EAAA,MAAA,CAAA;;AAA3C,WAAA,aAAA,GAAA;;AAmBC;;AAlBW,EAAA,aAAA,CAAA,SAAA,CAAA,YAAA,GAAV,UAAuB,KAAvB,EAA4B;AAC1B,QAAM,YAAY,GAAG,KAAK,CAAC,GAAN,CAAU,QAAV,EAAoB,MAAzC;AACA,QAAM,SAAS,GAAG,YAAY,CAAC,YAAY,CAAC,MAAb,GAAsB,CAAvB,CAA9B;AACA,QAAM,KAAK,GAAG,KAAK,CAAC,IAAN,CAAW,QAAX,CAAd;AACQ,QAAA,UAAU,GAAK,KAAK,IAAL,CAAU,OAAV,CAAL,UAAV;AACR,QAAM,IAAI,GAAG,KAAK,CAAC,GAAN,CAAU,QAAV,EAAoB,IAApB,CAAyB,CAAzB,EAA4B,UAA5B,CAAb;AAEA,QAAM,CAAC,GACL,MAAM,CACJ,SAAS,CAAC,CADN,EAEJ,UAAC,CAAD,EAAY,CAAZ,EAAqB;AACnB,aAAO,CAAC,GAAG,CAAX;AACD,KAJG,EAKJ,CALI,CAAN,GAMI,IAAI,CAAC,SAAS,CAAC,CAAX,CAPV;AASA,WAAO;AAAE,MAAA,CAAC,EAAE,SAAS,CAAC,CAAf;AAAkB,MAAA,CAAC,EAAA,CAAnB;AAAqB,MAAA,KAAK,EAAA,KAA1B;AAA4B,MAAA,IAAI,EAAA;AAAhC,KAAP;AACD,GAjBS;;AAkBZ,SAAA,aAAA;AAAC,CAnBD,CAA2C,SAA3C,CAAA","sourcesContent":["import { reduce, size } from '@antv/util';\nimport LineLabel from '../../../line/component/label/line-label';\n\n/**\n * 复用扎线图的 label，并修改取值方式\n */\nexport default class AreaLineLabel extends LineLabel {\n  protected getShapeInfo(shape) {\n    const originPoints = shape.get('origin').points;\n    const lastPoint = originPoints[originPoints.length - 1];\n    const color = shape.attr('stroke');\n    const { stackField } = this.plot.options;\n    const name = shape.get('origin').data[0][stackField];\n\n    const y =\n      reduce(\n        lastPoint.y,\n        (r: number, a: number): number => {\n          return r + a;\n        },\n        0\n      ) / size(lastPoint.y);\n\n    return { x: lastPoint.x, y, color, name };\n  }\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}