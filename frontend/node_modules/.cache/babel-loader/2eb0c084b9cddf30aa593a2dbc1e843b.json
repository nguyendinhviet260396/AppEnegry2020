{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\vietn\\\\Desktop\\\\AppEnegry2020\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\vietn\\\\Desktop\\\\AppEnegry2020\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\vietn\\\\Desktop\\\\AppEnegry2020\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\vietn\\\\Desktop\\\\AppEnegry2020\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{withStyles,Button}from'@material-ui/core';import{compose,bindActionCreators}from'redux';import{connect}from'react-redux';import{Field,reduxForm}from'redux-form';import{Redirect}from'react-router-dom';import Grid from'@material-ui/core/Grid';import renderTextField from'../../components/FormHelper/TextField/index';import*as alarmActions from'./../../actions/alarm';import*as priceActions from'./../../actions/prices';import Table from'./../../components/Table';import styles from'./styles';// function format money\nfunction formatCash(value){value=value.toString();return value.split('').reverse().reduce(function(prev,next,index){return(index%3?next:next+',')+prev;});}var ConfigSystem=/*#__PURE__*/function(_Component){_inherits(ConfigSystem,_Component);var _super=_createSuper(ConfigSystem);function ConfigSystem(){var _this;_classCallCheck(this,ConfigSystem);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.handleSubmitForm01=function(data){var priceActionCreators=_this.props.priceActionCreators;var addprice=priceActionCreators.addprice,refeshprice=priceActionCreators.refeshprice;addprice(data);refeshprice();};_this.handleSubmitForm02=function(data){var alarmActionCreators=_this.props.alarmActionCreators;var addListEmailAlarm=alarmActionCreators.addListEmailAlarm,refeshListEmailAlarm=alarmActionCreators.refeshListEmailAlarm;addListEmailAlarm(data);refeshListEmailAlarm();};return _this;}_createClass(ConfigSystem,[{key:\"componentDidMount\",value:function componentDidMount(){var _this$props=this.props,alarmActionCreators=_this$props.alarmActionCreators,priceActionCreators=_this$props.priceActionCreators;var refeshprice=priceActionCreators.refeshprice;refeshprice();var refeshListEmailAlarm=alarmActionCreators.refeshListEmailAlarm;refeshListEmailAlarm();}},{key:\"render\",value:function render(){var _this$props2=this.props,handleSubmit=_this$props2.handleSubmit,redirectToReferrer=_this$props2.redirectToReferrer,listPrice=_this$props2.listPrice,listEmailAlarm=_this$props2.listEmailAlarm;var columns=[{id:'id',label:'id',minWidth:10,align:'center'},{id:'name',label:'Tên',minWidth:100,align:'center'},{id:'email',label:'Email',minWidth:170,align:'center'},{id:'timestamp',label:'Thời gian',minWidth:170,align:'center'}];var columns1=[{id:'id',label:'id',minWidth:10,align:'center'},{id:'levelprice01',label:'price 50kW',minWidth:100,align:'center',format:function format(value){return formatCash(value)+' VNĐ';}},{id:'levelprice02',label:'price 100kW',minWidth:100,align:'center',format:function format(value){return formatCash(value)+' VNĐ';}},{id:'levelprice03',label:'price 200kW',minWidth:100,align:'center',format:function format(value){return formatCash(value)+' VNĐ';}},{id:'solarprice',label:'price Solar',minWidth:100,align:'center',format:function format(value){return formatCash(value)+' VNĐ';}},{id:'timestamp',label:'time',minWidth:50,align:'center'}];if(redirectToReferrer===false&&localStorage.getItem('token:')===null){return/*#__PURE__*/React.createElement(Redirect,{to:'/'});}return/*#__PURE__*/React.createElement(\"div\",{className:\"p-1 pt-5\",style:{}},/*#__PURE__*/React.createElement(Grid,{container:true,spacing:1},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,md:12,style:{textAlign:'center'}},/*#__PURE__*/React.createElement(\"label\",{className:\"font-weight-bolder h6 w-100 mb-1 p-1\",style:{height:'fit-content',maxHeight:'40vh',borderBottom:'2px solid #00CC00'}},\"C\\xE0i \\u0111\\u1EB7t chung\")),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,md:12},/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit(this.handleSubmitForm01)},/*#__PURE__*/React.createElement(Grid,{container:true,spacing:1,className:\" pl-4 pr-4 pb-2\"},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,md:12,className:\"textAlign: center\"},/*#__PURE__*/React.createElement(\"label\",{className:\"font-weight-bolder h6 w-100 mb-1 p-1\",style:{height:'fit-content',maxHeight:'40vh',borderBottom:'2px solid #00CC00'}},\"C\\xE0i \\u0111\\u1EB7t gi\\xE1 \\u0111i\\u1EC7n:\")),/*#__PURE__*/React.createElement(Grid,{item:true,sx:12,md:3},/*#__PURE__*/React.createElement(Field,{id:\"price1\",label:\"Gi\\xE1 \\u0111i\\u1EC7n m\\u1EE9c 50kWh\",name:\"levelprice01\",fullWidth:true,inputProps:{style:{fontSize:15}}// font size of input text\n,InputLabelProps:{style:{fontSize:15}}// font size of input label\n,type:\"text\",size:\"small\",component:renderTextField})),/*#__PURE__*/React.createElement(Grid,{item:true,sx:12,md:3},/*#__PURE__*/React.createElement(Field,{id:\"price2\",label:\"Gi\\xE1 \\u0111i\\u1EC7n m\\u1EE9c 100kWh\",name:\"levelprice02\",fullWidth:true,inputProps:{style:{fontSize:15}}// font size of input text\n,InputLabelProps:{style:{fontSize:15}}// font size of input label\n,type:\"text\",size:\"small\",component:renderTextField})),/*#__PURE__*/React.createElement(Grid,{item:true,sx:12,md:3},/*#__PURE__*/React.createElement(Field,{id:\"price3\",label:\"Gi\\xE1 \\u0111i\\u1EC7n m\\u1EE9c 200kWh\",name:\"levelprice03\",fullWidth:true,inputProps:{style:{fontSize:15}}// font size of input text\n,InputLabelProps:{style:{fontSize:15}}// font size of input label\n,type:\"text\",size:\"small\",component:renderTextField})),/*#__PURE__*/React.createElement(Grid,{item:true,sx:12,md:3},/*#__PURE__*/React.createElement(Field,{id:\"pricesolar\",label:\"Gi\\xE1 \\u0111i\\u1EC7n m\\u1EB7t tr\\u1EDDi\",name:\"solarprice\",fullWidth:true,inputProps:{style:{fontSize:15}}// font size of input text\n,InputLabelProps:{style:{fontSize:15}}// font size of input label\n,type:\"text\",size:\"small\",component:renderTextField}))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,md:6,className:\"pr-4 pl-4 pb-2\"},/*#__PURE__*/React.createElement(Button,{className:\"mt-3 mr-2\",color:\"primary\",style:{backgroundColor:'#00CC33'},variant:\"contained\",type:\"submit\",size:\"small\"},\"\\u0110\\u1ED3ng \\xFD\"),/*#__PURE__*/React.createElement(Button,{className:\"mt-3\",color:\"secondary\",style:{backgroundColor:'#FF0000'},variant:\"contained\",type:\"submit\",size:\"small\"},\"H\\u1EE7y b\\u1ECF\"))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,md:12,className:\"mr-4 ml-4 mb-2 mt-2 oblique\"},/*#__PURE__*/React.createElement(\"label\",null,\"Ch\\xFA \\xFD: \\u0110\\u01A1n v\\u1ECB VN\\u0110\")),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,md:12,className:\"mr-4 ml-4 mb-2 mt-2\",style:{backgroundColor:'rgba( 0, 0, 0, 0.2)',border:'2px solid #00CC33'}},/*#__PURE__*/React.createElement(Table,{rows:listPrice,columns:columns1}))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,md:6},/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit(this.handleSubmitForm02)},/*#__PURE__*/React.createElement(Grid,{container:true,spacing:1,className:\" p-4\"},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,md:12,className:\"textAlign: center\"},/*#__PURE__*/React.createElement(\"label\",{className:\"font-weight-bolder h6 w-100 mb-2 p-1\",style:{height:'fit-content',maxHeight:'40vh',borderBottom:'2px solid #00CC00'}},\"C\\xE0i \\u0111\\u1EB7t email c\\u1EA3nh b\\xE1o:\")),/*#__PURE__*/React.createElement(Grid,{item:true,sx:12,md:6},/*#__PURE__*/React.createElement(Field,{id:\"name\",label:\"name\",name:\"name\",fullWidth:true,inputProps:{style:{fontSize:15}}// font size of input text\n,type:\"text\",InputLabelProps:{style:{fontSize:15}},size:\"small\",component:renderTextField})),/*#__PURE__*/React.createElement(Grid,{item:true,sx:12,md:6},/*#__PURE__*/React.createElement(Field,{id:\"email\",label:\"Email\",name:\"email\",fullWidth:true,inputProps:{style:{fontSize:15}}// font size of input text\n,InputLabelProps:{style:{fontSize:15}}// font size of input label\n,type:\"email\",size:\"small\",component:renderTextField}))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,md:6,className:\"p-4\"},/*#__PURE__*/React.createElement(Button,{className:\"mt-3 mr-2\",color:\"primary\",variant:\"contained\",style:{backgroundColor:'#00CC33'},type:\"submit\",size:\"small\"},\"\\u0110\\u1ED3ng \\xFD\"),/*#__PURE__*/React.createElement(Button,{className:\"mt-3\",color:\"secondary\",variant:\"contained\",style:{backgroundColor:'#FF0000'},type:\"submit\",size:\"small\"},\"H\\u1EE7y b\\u1ECF\")))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,md:6,className:\"textAlign:center  p-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"font-weight-bolder h6 w-100 mb-5 p-1\",style:{height:'fit-content',maxHeight:'40vh',borderBottom:'2px solid #00CC00'}},\"Danh s\\xE1ch t\\xE0i kho\\u1EA3n email\"),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:1,className:\"mr-3  max-h-50\",style:{backgroundColor:'rgba( 0, 0, 0, 0.2)',border:'2px solid #00CC33'}},/*#__PURE__*/React.createElement(Table,{rows:listEmailAlarm,columns:columns})))));}}]);return ConfigSystem;}(Component);var FORM_ALARM='TASK_ALARM';var withReduxForm=reduxForm({form:FORM_ALARM});var mapStateToProps=function mapStateToProps(state){return{listEmailAlarm:state.alarm.listEmailAlarm,listPrice:state.prices.listPrice,redirectToReferrer:state.auth.redirectToReferrer};};var mapDispatchToProps=function mapDispatchToProps(dispatch,props){return{alarmActionCreators:bindActionCreators(alarmActions,dispatch),priceActionCreators:bindActionCreators(priceActions,dispatch)};};var withConnect=connect(mapStateToProps,mapDispatchToProps);export default compose(withStyles(styles),withConnect,withReduxForm)(ConfigSystem);","map":{"version":3,"sources":["C:/Users/vietn/Desktop/AppEnegry2020/frontend/src/containers/ConfigSystem/index.js"],"names":["React","Component","withStyles","Button","compose","bindActionCreators","connect","Field","reduxForm","Redirect","Grid","renderTextField","alarmActions","priceActions","Table","styles","formatCash","value","toString","split","reverse","reduce","prev","next","index","ConfigSystem","handleSubmitForm01","data","priceActionCreators","props","addprice","refeshprice","handleSubmitForm02","alarmActionCreators","addListEmailAlarm","refeshListEmailAlarm","handleSubmit","redirectToReferrer","listPrice","listEmailAlarm","columns","id","label","minWidth","align","columns1","format","localStorage","getItem","textAlign","height","maxHeight","borderBottom","style","fontSize","backgroundColor","border","FORM_ALARM","withReduxForm","form","mapStateToProps","state","alarm","prices","auth","mapDispatchToProps","dispatch","withConnect"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { withStyles, Button } from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\nimport { compose, bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { Redirect } from 'react-router-dom';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport renderTextField from '../../components/FormHelper/TextField/index';\r\nimport * as alarmActions from './../../actions/alarm';\r\nimport * as priceActions from './../../actions/prices';\r\nimport Table from './../../components/Table';\r\nimport styles from './styles';\r\n\r\n// function format money\r\nfunction formatCash(value) {\r\n  value = value.toString();\r\n  return value\r\n    .split('')\r\n    .reverse()\r\n    .reduce((prev, next, index) => {\r\n      return (index % 3 ? next : next + ',') + prev;\r\n    });\r\n}\r\n\r\nclass ConfigSystem extends Component {\r\n  componentDidMount() {\r\n    const { alarmActionCreators, priceActionCreators } = this.props;\r\n    const { refeshprice } = priceActionCreators;\r\n    refeshprice();\r\n    const { refeshListEmailAlarm } = alarmActionCreators;\r\n    refeshListEmailAlarm();\r\n  }\r\n\r\n  handleSubmitForm01 = data => {\r\n    const { priceActionCreators } = this.props;\r\n    const { addprice, refeshprice } = priceActionCreators;\r\n    addprice(data);\r\n    refeshprice();\r\n  };\r\n  handleSubmitForm02 = data => {\r\n    const { alarmActionCreators } = this.props;\r\n    const { addListEmailAlarm, refeshListEmailAlarm } = alarmActionCreators;\r\n    addListEmailAlarm(data);\r\n    refeshListEmailAlarm();\r\n  };\r\n  render() {\r\n    const {\r\n      handleSubmit,\r\n      redirectToReferrer,\r\n      listPrice,\r\n      listEmailAlarm,\r\n    } = this.props;\r\n\r\n    const columns = [\r\n      {\r\n        id: 'id',\r\n        label: 'id',\r\n        minWidth: 10,\r\n        align: 'center',\r\n      },\r\n      {\r\n        id: 'name',\r\n        label: 'Tên',\r\n        minWidth: 100,\r\n        align: 'center',\r\n      },\r\n      {\r\n        id: 'email',\r\n        label: 'Email',\r\n        minWidth: 170,\r\n        align: 'center',\r\n      },\r\n      {\r\n        id: 'timestamp',\r\n        label: 'Thời gian',\r\n        minWidth: 170,\r\n        align: 'center',\r\n      },\r\n    ];\r\n\r\n    const columns1 = [\r\n      {\r\n        id: 'id',\r\n        label: 'id',\r\n        minWidth: 10,\r\n        align: 'center',\r\n      },\r\n      {\r\n        id: 'levelprice01',\r\n        label: 'price 50kW',\r\n        minWidth: 100,\r\n        align: 'center',\r\n        format: value => formatCash(value) + ' VNĐ',\r\n      },\r\n      {\r\n        id: 'levelprice02',\r\n        label: 'price 100kW',\r\n        minWidth: 100,\r\n        align: 'center',\r\n        format: value => formatCash(value) + ' VNĐ',\r\n      },\r\n      {\r\n        id: 'levelprice03',\r\n        label: 'price 200kW',\r\n        minWidth: 100,\r\n        align: 'center',\r\n        format: value => formatCash(value) + ' VNĐ',\r\n      },\r\n      {\r\n        id: 'solarprice',\r\n        label: 'price Solar',\r\n        minWidth: 100,\r\n        align: 'center',\r\n        format: value => formatCash(value) + ' VNĐ',\r\n      },\r\n      {\r\n        id: 'timestamp',\r\n        label: 'time',\r\n        minWidth: 50,\r\n        align: 'center',\r\n      },\r\n    ];\r\n    if (\r\n      redirectToReferrer === false &&\r\n      localStorage.getItem('token:') === null\r\n    ) {\r\n      return <Redirect to={'/'} />;\r\n    }\r\n\r\n    return (\r\n      <div className=\"p-1 pt-5\" style={{}}>\r\n        <Grid container spacing={1}>\r\n          <Grid item xs={12} md={12} style={{ textAlign: 'center' }}>\r\n            <label\r\n              className=\"font-weight-bolder h6 w-100 mb-1 p-1\"\r\n              style={{\r\n                height: 'fit-content',\r\n                maxHeight: '40vh',\r\n                borderBottom: '2px solid #00CC00',\r\n              }}\r\n            >\r\n              Cài đặt chung\r\n            </label>\r\n          </Grid>\r\n          <Grid item xs={12} md={12}>\r\n            <form onSubmit={handleSubmit(this.handleSubmitForm01)}>\r\n              <Grid container spacing={1} className=\" pl-4 pr-4 pb-2\">\r\n                <Grid item xs={12} md={12} className=\"textAlign: center\">\r\n                  <label\r\n                    className=\"font-weight-bolder h6 w-100 mb-1 p-1\"\r\n                    style={{\r\n                      height: 'fit-content',\r\n                      maxHeight: '40vh',\r\n                      borderBottom: '2px solid #00CC00',\r\n                    }}\r\n                  >\r\n                    Cài đặt giá điện:\r\n                  </label>\r\n                </Grid>\r\n                <Grid item sx={12} md={3}>\r\n                  <Field\r\n                    id=\"price1\"\r\n                    label=\"Giá điện mức 50kWh\"\r\n                    name=\"levelprice01\"\r\n                    fullWidth\r\n                    inputProps={{ style: { fontSize: 15 } }} // font size of input text\r\n                    InputLabelProps={{ style: { fontSize: 15 } }} // font size of input label\r\n                    type=\"text\"\r\n                    size=\"small\"\r\n                    component={renderTextField}\r\n                  />\r\n                </Grid>\r\n                <Grid item sx={12} md={3}>\r\n                  <Field\r\n                    id=\"price2\"\r\n                    label=\"Giá điện mức 100kWh\"\r\n                    name=\"levelprice02\"\r\n                    fullWidth\r\n                    inputProps={{ style: { fontSize: 15 } }} // font size of input text\r\n                    InputLabelProps={{ style: { fontSize: 15 } }} // font size of input label\r\n                    type=\"text\"\r\n                    size=\"small\"\r\n                    component={renderTextField}\r\n                  />\r\n                </Grid>\r\n                <Grid item sx={12} md={3}>\r\n                  <Field\r\n                    id=\"price3\"\r\n                    label=\"Giá điện mức 200kWh\"\r\n                    name=\"levelprice03\"\r\n                    fullWidth\r\n                    inputProps={{ style: { fontSize: 15 } }} // font size of input text\r\n                    InputLabelProps={{ style: { fontSize: 15 } }} // font size of input label\r\n                    type=\"text\"\r\n                    size=\"small\"\r\n                    component={renderTextField}\r\n                  />\r\n                </Grid>\r\n                <Grid item sx={12} md={3}>\r\n                  <Field\r\n                    id=\"pricesolar\"\r\n                    label=\"Giá điện mặt trời\"\r\n                    name=\"solarprice\"\r\n                    fullWidth\r\n                    inputProps={{ style: { fontSize: 15 } }} // font size of input text\r\n                    InputLabelProps={{ style: { fontSize: 15 } }} // font size of input label\r\n                    type=\"text\"\r\n                    size=\"small\"\r\n                    component={renderTextField}\r\n                  />\r\n                </Grid>\r\n              </Grid>\r\n              <Grid item xs={12} md={6} className=\"pr-4 pl-4 pb-2\">\r\n                <Button\r\n                  className=\"mt-3 mr-2\"\r\n                  color=\"primary\"\r\n                  style={{ backgroundColor: '#00CC33' }}\r\n                  variant=\"contained\"\r\n                  type=\"submit\"\r\n                  size=\"small\"\r\n                >\r\n                  Đồng ý\r\n                </Button>\r\n                <Button\r\n                  className=\"mt-3\"\r\n                  color=\"secondary\"\r\n                  style={{ backgroundColor: '#FF0000' }}\r\n                  variant=\"contained\"\r\n                  type=\"submit\"\r\n                  size=\"small\"\r\n                >\r\n                  Hủy bỏ\r\n                </Button>\r\n              </Grid>\r\n            </form>\r\n            <Grid item xs={12} md={12} className=\"mr-4 ml-4 mb-2 mt-2 oblique\">\r\n              <label>Chú ý: Đơn vị VNĐ</label>\r\n            </Grid>\r\n            <Grid\r\n              item\r\n              xs={12}\r\n              md={12}\r\n              className=\"mr-4 ml-4 mb-2 mt-2\"\r\n              style={{\r\n                backgroundColor: 'rgba( 0, 0, 0, 0.2)',\r\n                border: '2px solid #00CC33',\r\n              }}\r\n            >\r\n              <Table rows={listPrice} columns={columns1} />\r\n            </Grid>\r\n          </Grid>\r\n          <Grid item xs={12} md={6}>\r\n            <form onSubmit={handleSubmit(this.handleSubmitForm02)}>\r\n              <Grid container spacing={1} className=\" p-4\">\r\n                <Grid item xs={12} md={12} className=\"textAlign: center\">\r\n                  <label\r\n                    className=\"font-weight-bolder h6 w-100 mb-2 p-1\"\r\n                    style={{\r\n                      height: 'fit-content',\r\n                      maxHeight: '40vh',\r\n                      borderBottom: '2px solid #00CC00',\r\n                    }}\r\n                  >\r\n                    Cài đặt email cảnh báo:\r\n                  </label>\r\n                </Grid>\r\n                <Grid item sx={12} md={6}>\r\n                  <Field\r\n                    id=\"name\"\r\n                    label=\"name\"\r\n                    name=\"name\"\r\n                    fullWidth\r\n                    inputProps={{ style: { fontSize: 15 } }} // font size of input text\r\n                    type=\"text\"\r\n                    InputLabelProps={{\r\n                      style: { fontSize: 15 },\r\n                    }}\r\n                    size=\"small\"\r\n                    component={renderTextField}\r\n                  />\r\n                </Grid>\r\n                <Grid item sx={12} md={6}>\r\n                  <Field\r\n                    id=\"email\"\r\n                    label=\"Email\"\r\n                    name=\"email\"\r\n                    fullWidth\r\n                    inputProps={{ style: { fontSize: 15 } }} // font size of input text\r\n                    InputLabelProps={{ style: { fontSize: 15 } }} // font size of input label\r\n                    type=\"email\"\r\n                    size=\"small\"\r\n                    component={renderTextField}\r\n                  />\r\n                </Grid>\r\n              </Grid>\r\n              <Grid item xs={12} md={6} className=\"p-4\">\r\n                <Button\r\n                  className=\"mt-3 mr-2\"\r\n                  color=\"primary\"\r\n                  variant=\"contained\"\r\n                  style={{ backgroundColor: '#00CC33' }}\r\n                  type=\"submit\"\r\n                  size=\"small\"\r\n                >\r\n                  Đồng ý\r\n                </Button>\r\n                <Button\r\n                  className=\"mt-3\"\r\n                  color=\"secondary\"\r\n                  variant=\"contained\"\r\n                  style={{ backgroundColor: '#FF0000' }}\r\n                  type=\"submit\"\r\n                  size=\"small\"\r\n                >\r\n                  Hủy bỏ\r\n                </Button>\r\n              </Grid>\r\n            </form>\r\n          </Grid>\r\n          <Grid item xs={12} md={6} className=\"textAlign:center  p-4\">\r\n            <label\r\n              className=\"font-weight-bolder h6 w-100 mb-5 p-1\"\r\n              style={{\r\n                height: 'fit-content',\r\n                maxHeight: '40vh',\r\n                borderBottom: '2px solid #00CC00',\r\n              }}\r\n            >\r\n              Danh sách tài khoản email\r\n            </label>\r\n            <Grid\r\n              container\r\n              spacing={1}\r\n              className=\"mr-3  max-h-50\"\r\n              style={{\r\n                backgroundColor: 'rgba( 0, 0, 0, 0.2)',\r\n                border: '2px solid #00CC33',\r\n              }}\r\n            >\r\n              <Table rows={listEmailAlarm} columns={columns} />\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nConfigSystem.propTypes = {\r\n  classes: PropTypes.object,\r\n  handleSubmit: PropTypes.func,\r\n  invalid: PropTypes.bool,\r\n  submitting: PropTypes.bool,\r\n  redirectToReferrer: PropTypes.bool,\r\n  listEmailAlarm: PropTypes.array,\r\n  listPrice: PropTypes.array,\r\n  alarmActionCreators: PropTypes.shape({\r\n    fetchListAlarm: PropTypes.func,\r\n  }),\r\n};\r\n\r\nconst FORM_ALARM = 'TASK_ALARM';\r\nconst withReduxForm = reduxForm({\r\n  form: FORM_ALARM,\r\n});\r\nconst mapStateToProps = state => {\r\n  return {\r\n    listEmailAlarm: state.alarm.listEmailAlarm,\r\n    listPrice: state.prices.listPrice,\r\n    redirectToReferrer: state.auth.redirectToReferrer,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch, props) => {\r\n  return {\r\n    alarmActionCreators: bindActionCreators(alarmActions, dispatch),\r\n    priceActionCreators: bindActionCreators(priceActions, dispatch),\r\n  };\r\n};\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\nexport default compose(\r\n  withStyles(styles),\r\n  withConnect,\r\n  withReduxForm,\r\n)(ConfigSystem);\r\n"]},"metadata":{},"sourceType":"module"}