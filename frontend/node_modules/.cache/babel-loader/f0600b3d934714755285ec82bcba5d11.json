{"ast":null,"code":"import { __assign, __extends } from \"tslib\";\nimport { each, filter, get } from '@antv/util';\nimport Interaction from '../../../interaction/core';\n\nvar LineActive =\n/** @class */\nfunction (_super) {\n  __extends(LineActive, _super);\n\n  function LineActive(cfg) {\n    return _super.call(this, __assign({\n      /** 没有用 line:mouseenter 和 line:mouseleave 事件，是因为可能在多条折线的情况下，从一条线滑动到另一条会同时触发process和reset，使画面出现闪动 */\n      processEvent: 'mousemove'\n    }, cfg)) || this;\n  }\n\n  LineActive.prototype.start = function () {\n    return;\n  };\n\n  LineActive.prototype.process = function (ev) {\n    var lines = filter(this.view.geometries, function (geom) {\n      return geom.type == 'line';\n    });\n    var target = ev.target;\n\n    if (target.get('name') === 'line') {\n      var data_1 = get(ev, 'data.data');\n      each(lines, function (line) {\n        each(line.elements, function (element) {\n          element.setState('active', element.data === data_1);\n        });\n      });\n    } else {\n      each(lines, function (line) {\n        each(line.elements, function (element) {\n          element.setState('active', false);\n        });\n      });\n    }\n  };\n\n  return LineActive;\n}(Interaction);\n\nexport default LineActive;","map":{"version":3,"sources":["../../../../src/plots/line/interaction/line-active.ts"],"names":[],"mappings":";AAAA,SAAS,IAAT,EAAe,MAAf,EAAuB,GAAvB,QAAkC,YAAlC;AACA,OAAO,WAAP,MAAwB,2BAAxB;;AAGA,IAAA,UAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAAwC,EAAA,SAAA,CAAA,UAAA,EAAA,MAAA,CAAA;;AACtC,WAAA,UAAA,CAAY,GAAZ,EAAe;WACb,MAAA,CAAA,IAAA,CAAA,IAAA,EAAA,QAAA,CAAA;AACE;AACA,MAAA,YAAY,EAAE;AAFhB,KAAA,EAGK,GAHL,CAAA,KAIE,I;AACH;;AAEM,EAAA,UAAA,CAAA,SAAA,CAAA,KAAA,GAAP,YAAA;AACE;AACD,GAFM;;AAIA,EAAA,UAAA,CAAA,SAAA,CAAA,OAAA,GAAP,UAAe,EAAf,EAAiB;AACf,QAAM,KAAK,GAAe,MAAM,CAAC,KAAK,IAAL,CAAU,UAAX,EAAuB,UAAC,IAAD,EAAK;AAAK,aAAA,IAAI,CAAC,IAAL,IAAA,MAAA;AAAmB,KAApD,CAAhC;AACA,QAAM,MAAM,GAAG,EAAE,CAAC,MAAlB;;AACA,QAAI,MAAM,CAAC,GAAP,CAAW,MAAX,MAAuB,MAA3B,EAAmC;AACjC,UAAM,MAAI,GAAG,GAAG,CAAC,EAAD,EAAK,WAAL,CAAhB;AACA,MAAA,IAAI,CAAC,KAAD,EAAQ,UAAC,IAAD,EAAe;AACzB,QAAA,IAAI,CAAC,IAAI,CAAC,QAAN,EAAgB,UAAC,OAAD,EAAQ;AAC1B,UAAA,OAAO,CAAC,QAAR,CAAiB,QAAjB,EAA2B,OAAO,CAAC,IAAR,KAAiB,MAA5C;AACD,SAFG,CAAJ;AAGD,OAJG,CAAJ;AAKD,KAPD,MAOO;AACL,MAAA,IAAI,CAAC,KAAD,EAAQ,UAAC,IAAD,EAAe;AACzB,QAAA,IAAI,CAAC,IAAI,CAAC,QAAN,EAAgB,UAAC,OAAD,EAAQ;AAC1B,UAAA,OAAO,CAAC,QAAR,CAAiB,QAAjB,EAA2B,KAA3B;AACD,SAFG,CAAJ;AAGD,OAJG,CAAJ;AAKD;AACF,GAjBM;;AAkBT,SAAA,UAAA;AAAC,CA/BD,CAAwC,WAAxC,CAAA","sourcesContent":["import { each, filter, get } from '@antv/util';\nimport Interaction from '../../../interaction/core';\nimport { Geometry } from '../../../dependents';\n\nexport default class LineActive extends Interaction {\n  constructor(cfg) {\n    super({\n      /** 没有用 line:mouseenter 和 line:mouseleave 事件，是因为可能在多条折线的情况下，从一条线滑动到另一条会同时触发process和reset，使画面出现闪动 */\n      processEvent: 'mousemove',\n      ...cfg,\n    });\n  }\n\n  public start() {\n    return;\n  }\n\n  public process(ev) {\n    const lines: Geometry[] = filter(this.view.geometries, (geom) => geom.type == 'line');\n    const target = ev.target;\n    if (target.get('name') === 'line') {\n      const data = get(ev, 'data.data');\n      each(lines, (line: Geometry) => {\n        each(line.elements, (element) => {\n          element.setState('active', element.data === data);\n        });\n      });\n    } else {\n      each(lines, (line: Geometry) => {\n        each(line.elements, (element) => {\n          element.setState('active', false);\n        });\n      });\n    }\n  }\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}